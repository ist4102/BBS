(()=>{var t={n:e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},d:(e,o)=>{for(var a in o)t.o(o,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:o[a]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};(()=>{"use strict";t.r(e);const o=flarum.core.compat.extend,a=flarum.core.compat.app;var r=t.n(a);const s=flarum.core.compat["components/IndexPage"];var n=t.n(s);const c=flarum.core.compat["common/helpers/username"];var l=t.n(c);const i=flarum.core.compat["utils/formatNumber"];var u=t.n(i);const f=flarum.core.compat["helpers/listItems"];var b=t.n(f);const d=flarum.core.compat["components/AvatarEditor"];var p=t.n(d);const x=flarum.core.compat["components/SignUpModal"];var g=t.n(x);const v=flarum.core.compat["common/components/Button"];var w=t.n(v);const N=flarum.core.compat["extensions/afrux-forum-widgets-core/common/extend/Widgets"];var y=t.n(N);function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}const k=flarum.core.compat["extensions/afrux-forum-widgets-core/common/components/Widget"];var _=t.n(k);const j=flarum.core.compat["forum/app"];var B=t.n(j),O=function(t){var e,o;function a(){return t.apply(this,arguments)||this}o=t,(e=a).prototype=Object.create(o.prototype),e.prototype.constructor=e,h(e,o);var r=a.prototype;return r.oninit=function(e){t.prototype.oninit.call(this,e)},r.oncreate=function(t){},r.className=function(){return"welcomebox-widget"},r.icon=function(){return"fas fa-user-tie"},r.content=function(){var t=B().session.user,e=B().route("settings"),o=B().forum.attribute("imgUrl")||B().forum.attribute("baseUrl")+"/assets/extensions/justoverclock-welcomebox/no-avatar.png";if(!0===B().forum.attribute("justoverclock-welcomebox.UseWidget")){if(t)return t.data.attributes.lastSeenAt.slice(0,10),m("div",{className:"containerwb"},m("div",{className:"backgrwb"},w().component({icon:"fas fa-sign-out-alt logoutt",title:B().translator.trans("core.forum.header.log_out_button"),className:"Dropdown-toggle Button logwbox",onclick:B().session.logout.bind(B().session)}),[m("div",m("a",{href:B().route.user(t)},m("div",{className:"avatarwb"},p().component({user:t})))),m("div",{className:"contentwb"},m("div",{className:"textinfo"},B().translator.trans("flarum-ext-welcomebox.forum.wback"),m("br"),m("strong",l()(t))),m("div",{className:"cont"},m("div",{className:"circletop"},[m("a",{href:e,title:B().translator.trans("core.forum.settings.title")},m("i",{className:"menuicon fas fa-tasks"})),m("a",{href:B().route.user(t),title:B().translator.trans("flarum-ext-welcomebox.forum.tooltipProfile")},m("i",{className:"menuicon far fa-user"})),m("a",{href:B().route.user(t)+"/mentions",title:B().translator.trans("flarum-ext-welcomebox.forum.tooltipMentions")},m("i",{className:"menuicon fas fa-at"})),m("a",{href:B().route.user(t)+"/discussions",title:B().translator.trans("flarum-ext-welcomebox.forum.tooltipDisclist")},m("i",{className:"menuicon far fa-list-alt"}))]))),m("div",{className:"iconbadge"},b()(t.badges().toArray())),m(".ulwb",{className:"contentwb"},[m("li",[m("label",{className:"textinfo"},B().translator.trans("flarum-ext-welcomebox.forum.npost")),": ",m("strong",{className:"textinfo"},u()(t.commentCount()))]),m("li",[m("label",{className:"textinfo"},B().translator.trans("flarum-ext-welcomebox.forum.discussion")),": ",m("strong",{className:"textinfo"},u()(t.discussionCount()))])])]));if(!t&&!0===B().forum.attribute("HideGuestBox"))return m("div",{className:"containerwb"},m("div",{className:"backgrwbguest"},[m("img",{className:"guestavatarimg",src:o}),m("div",{className:"guesttext"},B().translator.trans("flarum-ext-welcomebox.forum.welcomeguest")),m("p",{className:"guestdesc"},B().translator.trans("flarum-ext-welcomebox.forum.notregistered")),m("button",{className:".SplitDropdown-button Button Button--primary hasIcon",type:"button",onclick:function(t,e){return B().modal.show(g(),e)}},B().translator.trans("core.forum.header.sign_up_link")),m("div",{className:"contentwb"})]))}},a}(_());r().initializers.add("justoverclock/flarum-ext-welcomebox",(function(){var t;t=r(),(new(y())).add({key:"WelcomeBoxWdg",component:O,isDisabled:!1,isUnique:!0,placement:"end",position:1}).extend(t,"justoverclock-welcomebox"),(0,o.extend)(n().prototype,"sidebarItems",(function(t){var e=r().session.user,o=r().route("settings");!1===r().forum.attribute("justoverclock-welcomebox.UseWidget")&&e&&t.add("welcomeBox",m("div",{className:"containerwb"},m("div",{className:"backgrwb"},w().component({icon:"fas fa-sign-out-alt logoutt",title:r().translator.trans("core.forum.header.log_out_button"),className:"Dropdown-toggle Button logwbox",onclick:r().session.logout.bind(r().session)}),[m("div",m("a",{href:r().route.user(e)},m("div",{className:"avatarwb"},p().component({user:e})))),m("div",{className:"contentwb"},m("div",{className:"textinfo"},r().translator.trans("flarum-ext-welcomebox.forum.wback"),m("br"),m("strong",l()(e))),m("div",{className:"cont"},m("div",{className:"circletop"},[m("a",{href:o,title:r().translator.trans("core.forum.settings.title")},m("i",{className:"menuicon fas fa-tasks"})),m("a",{href:r().route.user(e),title:r().translator.trans("flarum-ext-welcomebox.forum.tooltipProfile")},m("i",{className:"menuicon far fa-user"})),m("a",{href:r().route.user(e)+"/mentions",title:r().translator.trans("flarum-ext-welcomebox.forum.tooltipMentions")},m("i",{className:"menuicon fas fa-at"})),m("a",{href:r().route.user(e)+"/discussions",title:r().translator.trans("flarum-ext-welcomebox.forum.tooltipDisclist")},m("i",{className:"menuicon far fa-list-alt"}))]))),m("div",{className:"iconbadge"},b()(e.badges().toArray())),m(".ulwb",{className:"contentwb"},[m("li",[m("label",{className:"textinfo"},r().translator.trans("flarum-ext-welcomebox.forum.npost")),": ",m("strong",{className:"textinfo"},u()(e.commentCount()))]),m("li",[m("label",{className:"textinfo"},r().translator.trans("flarum-ext-welcomebox.forum.discussion")),": ",m("strong",{className:"textinfo"},u()(e.discussionCount()))])])])),20)}))})),(0,o.extend)(n().prototype,"sidebarItems",(function(t){var e=r().forum.attribute("allowSignUp"),o=r().forum.attribute("imgUrl")||r().forum.attribute("baseUrl")+"/assets/extensions/justoverclock-welcomebox/no-avatar.png",a={view:function(t){if(e)return m("button",{className:".SplitDropdown-button Button Button--primary hasIcon",type:"button",onclick:function(t,e){return r().modal.show(g(),e)}},r().translator.trans("core.forum.header.sign_up_link"))}};!1===r().forum.attribute("justoverclock-welcomebox.UseWidget")&&(r().session.user||!0===r().forum.attribute("HideGuestBox")&&t.add("welcomeBoxGuest",m("div",{className:"containerwb"},m("div",{className:"backgrwbguest"},[m("img",{className:"guestavatarimg",src:o}),m("div",{className:"guesttext"},r().translator.trans("flarum-ext-welcomebox.forum.welcomeguest")),m("p",{className:"guestdesc"},r().translator.trans("flarum-ext-welcomebox.forum.notregistered")),m(a),m("div",{className:"contentwb"})])),20))}))})(),module.exports=e})();
//# sourceMappingURL=forum.js.map