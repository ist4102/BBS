{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/regenerator/index.js","webpack://@v17development/flarum-blog/external assign \"flarum.extensions['fof-upload']\"","webpack://@v17development/flarum-blog/webpack/bootstrap","webpack://@v17development/flarum-blog/webpack/runtime/compat get default export","webpack://@v17development/flarum-blog/webpack/runtime/define property getters","webpack://@v17development/flarum-blog/webpack/runtime/hasOwnProperty shorthand","webpack://@v17development/flarum-blog/webpack/runtime/make namespace object","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Page']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['components/IndexPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/CommentPost']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/PostStream']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/states/PostStreamState']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/Component']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/components/TagDiscussionModal']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/utils/DiscussionControls']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Button']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Dropdown']\"","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/app']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@v17development/flarum-blog/./src/forum/components/Modals/BlogPostSettingsModal.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/EditPostComposer']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@v17development/flarum-blog/./src/forum/components/Modals/RenameArticleModal.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogPostController.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Link']\"","webpack://@v17development/flarum-blog/./src/forum/components/BlogItemSidebar/BlogAuthor.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogCategories.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/SelectDropdown']\"","webpack://@v17development/flarum-blog/./src/forum/components/ForumNav.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogItemSidebar/BlogItemSidebar.js","webpack://@v17development/flarum-blog/./src/forum/components/LanguageDropdown/Language.js","webpack://@v17development/flarum-blog/./src/forum/components/LanguageDropdown/LanguageDropdown.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/humanTime']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@v17development/flarum-blog/./src/forum/components/BlogOverviewItem.tsx","webpack://@v17development/flarum-blog/./src/forum/components/FeaturedBlogItem.tsx","webpack://@v17development/flarum-blog/./src/forum/pages/BlogOverview.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/fullTime']\"","webpack://@v17development/flarum-blog/./src/forum/components/ArticleSubscription.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogItem.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/Model']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/models/Tag']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/models/Discussion']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/DiscussionPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/extend']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/mixin']\"","webpack://@v17development/flarum-blog/./src/common/Models/BlogMeta.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/components/TagsPage']\"","webpack://@v17development/flarum-blog/./src/forum/utils/extendTagOverview.js","webpack://@v17development/flarum-blog/./src/forum/utils/discussionRouting.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/ComposerBody']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/TextEditor']\"","webpack://@v17development/flarum-blog/./src/forum/components/Composer/ComposerPreview.js","webpack://@v17development/flarum-blog/./src/forum/components/Composer/Composer.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogComposer.js","webpack://@v17development/flarum-blog/external assign \"flarum.core\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@v17development/flarum-blog/./src/forum/utils/addSidebarNav.js","webpack://@v17development/flarum-blog/./src/forum/states/OverrideModalState.ts","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/ModalManager']\"","webpack://@v17development/flarum-blog/./src/forum/index.js","webpack://@v17development/flarum-blog/./src/forum/utils/redirector.js","webpack://@v17development/flarum-blog/./src/forum/utils/overrideModalManager.js","webpack://@v17development/flarum-blog/./src/forum/compat.js"],"sourcesContent":["var _typeof = require(\"./typeof.js\")[\"default\"];\n\nfunction _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\n\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","module.exports = flarum.extensions['fof-upload'];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/CommentPost'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/PostStream'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/states/PostStreamState'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/components/TagDiscussionModal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/utils/DiscussionControls'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Alert'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Dropdown'];","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","import app from 'flarum/forum/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Stream from 'flarum/common/utils/Stream';\nimport Switch from 'flarum/common/components/Switch';\nimport selectFiles from '../../utils/selectFiles';\n\nexport default class BlogPostSettingsModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    if (this.attrs.article) {\n      this.meta = this.attrs.article && this.attrs.article.blogMeta() ? this.attrs.article.blogMeta() : app.store.createRecord('blogMeta');\n    } else {\n      this.meta = this.attrs.meta ? this.attrs.meta : app.store.createRecord('blogMeta');\n    }\n\n    this.isNew = !this.meta.exists;\n\n    this.summary = Stream(this.meta.summary() || '');\n\n    this.featuredImage = Stream(this.meta.featuredImage() || '');\n\n    this.isFeatured = Stream(this.meta.isFeatured() || false);\n    this.isSized = Stream(this.meta.isSized() || false);\n    this.isPendingReview = Stream(this.meta.isPendingReview() || false);\n  }\n\n  className() {\n    return 'Modal--small Support-Modal';\n  }\n\n  title() {\n    return app.translator.trans('v17development-flarum-blog.forum.article_settings.title');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">{this.fields().toArray()}</div>\n      </div>\n    );\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    items.add(\n      'summary',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.title')}:</label>\n        <textarea\n          className=\"FormControl\"\n          style={{\n            maxWidth: '100%',\n            minWidth: '100%',\n            width: '100%',\n            minHeight: '120px',\n          }}\n          bidi={this.summary}\n          placeholder={app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.placeholder')}\n        />\n\n        <small>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.helper_text')}</small>\n      </div>,\n      30\n    );\n\n    let fofUploadButton = null;\n\n    if ('fof-upload' in flarum.extensions && app.forum.attribute('fof-upload.canUpload')) {\n      const {\n        components: { Uploader, FileManagerModal },\n      } = require('@fof-upload');\n\n      const uploader = new Uploader();\n\n      fofUploadButton = (\n        <Button\n          class=\"Button Button--icon\"\n          onclick={async () => {\n            app.modal.show(\n              FileManagerModal,\n              {\n                uploader: uploader,\n                onSelect: (files) => {\n                  const file = app.store.getById('files', files[0]);\n\n                  this.featuredImage(file.url());\n                },\n              },\n              true\n            );\n          }}\n          icon=\"fas fa-cloud-upload-alt\"\n        />\n      );\n    }\n\n    items.add(\n      'image',\n      <div className=\"Form-group V17Blog-ArticleImage\">\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.title')}:</label>\n        <div data-upload-enabled={!!fofUploadButton}>\n          <input type=\"text\" className=\"FormControl\" bidi={this.featuredImage} placeholder=\"https://\" />\n          {fofUploadButton}\n        </div>\n\n        <small>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.helper_text')}</small>\n\n        {this.featuredImage() !== '' && (\n          <img\n            src={this.featuredImage()}\n            alt=\"Article image\"\n            title={app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.title')}\n            style={{ width: '100%', marginTop: '15px' }}\n          />\n        )}\n      </div>,\n      30\n    );\n\n    items.add(\n      'sized',\n      <div className=\"Form-group\">\n        {Switch.component(\n          {\n            state: this.isSized() == true,\n            onchange: (val) => {\n              this.isSized(val);\n            },\n          },\n          [\n            <b>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.highlight.title')}</b>,\n            <div className=\"helpText\" style={{ fontWeight: 500 }}>\n              {app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.highlight.helper_text')}\n            </div>,\n          ]\n        )}\n      </div>,\n      -10\n    );\n\n    items.add(\n      'submit',\n      <div className=\"Form-group\">\n        {Button.component(\n          {\n            type: 'submit',\n            className: 'Button Button--primary SupportModal-save',\n            loading: this.loading,\n          },\n          app.translator.trans('core.forum.composer_edit.submit_button')\n        )}\n      </div>,\n      -10\n    );\n\n    return items;\n  }\n\n  submitData() {\n    return {\n      summary: this.summary(),\n      featuredImage: this.featuredImage(),\n      isFeatured: this.isFeatured(),\n      isSized: this.isSized(),\n      isPendingReview: this.isPendingReview(),\n      relationships:\n        this.isNew && !this.attrs.isComposer\n          ? {\n              discussion: this.attrs.article,\n            }\n          : null,\n    };\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    // Submit data\n    if (this.attrs.onsubmit) {\n      // Update attributes\n      this.meta.pushData({\n        attributes: this.submitData(),\n      });\n\n      // Push\n      this.attrs.onsubmit(this.meta);\n\n      this.hide();\n      return;\n    }\n\n    this.loading = true;\n\n    this.meta.save(this.submitData()).then(\n      () => {\n        if (this.attrs.article) {\n          this.attrs.article.pushData({\n            relationships: {\n              blogMeta: this.meta,\n            },\n          });\n        }\n\n        this.hide();\n        m.redraw();\n      },\n      (response) => {\n        this.loading = false;\n        this.handleErrors(response);\n      }\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/EditPostComposer'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/extractText'];","import Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default class RenameArticleModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.article = this.attrs.article;\n\n    this.name = Stream(this.article.title() || '');\n\n    this.redirect = this.attrs.redirect;\n  }\n\n  className() {\n    return 'Modal--small Support-Modal';\n  }\n\n  title() {\n    return app.translator.trans('v17development-flarum-blog.forum.tools.rename_article');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">{this.fields().toArray()}</div>\n      </div>\n    );\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    items.add(\n      'name',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article.title')}:</label>\n        <input className=\"FormControl\" placeholder={app.translator.trans('v17development-flarum-blog.forum.article.title')} bidi={this.name} />\n      </div>,\n      50\n    );\n\n    items.add(\n      'submit',\n      <div className=\"Form-group\">\n        {Button.component(\n          {\n            type: 'submit',\n            className: 'Button Button--primary SupportModal-save',\n            loading: this.loading,\n          },\n          app.translator.trans('core.forum.composer_edit.submit_button')\n        )}\n      </div>,\n      -10\n    );\n\n    return items;\n  }\n\n  submitData() {\n    return {\n      title: this.name(),\n    };\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    // Do not save\n    if (this.attrs.onChange) {\n      this.attrs.onChange(this.name());\n      this.hide();\n\n      return;\n    }\n\n    this.article\n      .save({\n        title: this.name(),\n      })\n      .then(\n        () => {\n          this.hide();\n\n          // Redirect\n          if (this.redirect) {\n            const url = `/blog/${this.article.slug()}`;\n\n            m.route.set(url, true);\n            window.history.replaceState(null, document.title, url);\n          }\n        },\n        (response) => {\n          this.loading = false;\n          this.handleErrors(response);\n        }\n      );\n  }\n}\n","import Component from 'flarum/common/Component';\nimport TagDiscussionModal from 'flarum/tags/components/TagDiscussionModal';\nimport DiscussionControls from 'flarum/forum/utils/DiscussionControls';\nimport Alert from 'flarum/common/components/Alert';\nimport Button from 'flarum/common/components/Button';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport BlogPostSettingsModal from './Modals/BlogPostSettingsModal';\nimport EditPostComposer from 'flarum/forum/components/EditPostComposer';\nimport extractText from 'flarum/common/utils/extractText';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport RenameArticleModal from './Modals/RenameArticleModal';\nimport app from 'flarum/forum/app';\n\nexport default class BlogPostController extends Component {\n  init() {\n    this.loadedPost = false;\n  }\n\n  manageArticleButtons() {\n    const article = this.attrs.article;\n    const items = new ItemList();\n\n    // Working for GlowingBlue version\n    const LanguageDiscussionModal =\n      flarum.extensions['fof-discussion-language'] && typeof flarum.extensions['fof-discussion-language'].components !== 'undefined'\n        ? flarum.extensions['fof-discussion-language'].components.LanguageDiscussionModal\n        : null;\n\n    // Rename article\n    if (article.canRename()) {\n      items.add(\n        'rename',\n        Button.component(\n          {\n            className: 'Button',\n            onclick: () => app.modal.show(RenameArticleModal, { article }),\n            icon: 'fas fa-pencil-alt',\n          },\n          app.translator.trans('v17development-flarum-blog.forum.tools.rename_article')\n        ),\n        100\n      );\n    }\n\n    const articlePost = article.firstPost();\n\n    // Edit article\n    items.add(\n      'edit',\n      Button.component(\n        {\n          className: 'Button',\n          disabled: !articlePost || !articlePost.canEdit(),\n          onclick: () => {\n            app.composer.load(EditPostComposer, { post: articlePost });\n            app.composer.show();\n          },\n          icon: 'fas fa-edit',\n        },\n        app.translator.trans('v17development-flarum-blog.forum.tools.edit_article')\n      ),\n      90\n    );\n\n    // Article settings\n    items.add(\n      'articleSettings',\n      Button.component(\n        {\n          className: 'Button',\n          onclick: () => app.modal.show(BlogPostSettingsModal, { article }),\n          icon: 'fas fa-cogs',\n        },\n        app.translator.trans('v17development-flarum-blog.forum.tools.article_settings')\n      ),\n      80\n    );\n\n    // Update categories\n    if (article.canTag()) {\n      items.add(\n        'tag',\n        Button.component(\n          {\n            className: 'Button',\n            onclick: () => app.modal.show(TagDiscussionModal, { discussion: article }),\n            icon: 'fas fa-tag',\n          },\n          app.translator.trans('v17development-flarum-blog.forum.tools.update_category')\n        ),\n        70\n      );\n    }\n\n    // Approve article\n    if (article.blogMeta() && article.blogMeta().isPendingReview()) {\n      items.add('separator1', <li className=\"Dropdown-separator\" />, 65);\n\n      items.add(\n        'approve',\n        Button.component(\n          {\n            className: 'Button',\n            disabled: !app.forum.attribute('canApproveBlogPosts'),\n            onclick: () => {\n              article\n                .blogMeta()\n                .save({\n                  isPendingReview: false,\n                })\n                .then(\n                  () => {\n                    app.alerts.show(\n                      Alert,\n                      { type: 'success' },\n                      app.translator.trans('v17development-flarum-blog.forum.review_article.approve_article_approved')\n                    );\n                  },\n                  (response) => {\n                    this.loading = false;\n                    this.handleErrors(response);\n                  }\n                );\n            },\n            icon: 'fas fa-thumbs-up',\n          },\n          app.translator.trans('v17development-flarum-blog.forum.review_article.approve_article')\n        ),\n        60\n      );\n    }\n\n    // Language\n    if (article.canChangeLanguage && article.canChangeLanguage() && LanguageDiscussionModal) {\n      items.add(\n        'lang',\n        Button.component(\n          {\n            icon: 'fas fa-globe',\n            onclick: () => app.modal.show(LanguageDiscussionModal, { discussion: article }),\n          },\n          app.translator.trans('fof-discussion-language.forum.discussion_controls.change_language_button')\n        ),\n        50\n      );\n    }\n\n    items.add('separator2', <li className=\"Dropdown-separator\" />, 40);\n\n    // Lock article\n    if (article.canLock()) {\n      items.add(\n        'lock',\n        Button.component(\n          {\n            className: 'Button',\n            onclick: DiscussionControls.lockAction.bind(article),\n            icon: `fas ${article.isLocked() ? 'fa-comments' : 'fa-comment-slash'}`,\n          },\n          article.isLocked()\n            ? app.translator.trans('v17development-flarum-blog.forum.tools.enable_comments')\n            : app.translator.trans('v17development-flarum-blog.forum.tools.disable_comments')\n        ),\n        30\n      );\n    }\n\n    // Hide/show/delete\n    if (article.canHide()) {\n      // Article is hidden\n      if (article.isHidden()) {\n        // Recover article\n        items.add(\n          'recover',\n          Button.component(\n            {\n              className: 'Button',\n              onclick: DiscussionControls.restoreAction.bind(article),\n              icon: 'fas fa-eye',\n            },\n            app.translator.trans('v17development-flarum-blog.forum.tools.recover_article')\n          ),\n          20\n        );\n\n        // Delete article\n        if (article.canDelete()) {\n          items.add(\n            'delete',\n            Button.component(\n              {\n                className: 'Button',\n                onclick: () => {\n                  // Confirm deletion\n                  if (confirm(extractText(app.translator.trans('core.forum.discussion_controls.delete_confirmation')))) {\n                    // Redirect if the current page is an blog article\n                    if (app.history.getCurrent().name === 'blogArticle') {\n                      if (app.previous) {\n                        app.history.back();\n                      } else {\n                        m.route.set(app.route('blog'));\n                      }\n                    }\n\n                    return article.delete().then(() => {\n                      m.redraw();\n                    });\n                  }\n                },\n                icon: 'far fa-trash-alt',\n              },\n              app.translator.trans('v17development-flarum-blog.forum.tools.delete_forever')\n            ),\n            10\n          );\n        }\n      } else {\n        // Hide article\n        items.add(\n          'hide',\n          Button.component(\n            {\n              className: 'Button',\n              onclick: DiscussionControls.hideAction.bind(article),\n              icon: 'fas fa-eye-slash',\n            },\n            app.translator.trans('v17development-flarum-blog.forum.tools.hide_article')\n          ),\n          0\n        );\n      }\n    }\n\n    return items;\n  }\n\n  view() {\n    const article = this.attrs.article;\n\n    const articlePost = article.firstPost();\n\n    return (\n      <div className={'FlarumBlog-Article-Content-Edit-Button'}>\n        <div className={'FlarumBlog-Article-Content-Edit-Dropdown'}>\n          {Dropdown.component(\n            {\n              icon: 'fas fa-cog',\n              label: 'Manage',\n              buttonClassName: 'Button',\n              menuClassName: 'Dropdown-menu--right',\n              onshow: () => {\n                // Get post data to make sure they can edit the post\n                if (articlePost && !articlePost.canEdit() && !this.loadedPost) {\n                  this.loadedPost = true;\n                  m.redraw();\n                }\n              },\n            },\n            this.manageArticleButtons().toArray()\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/avatar'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Link'];","import Component from 'flarum/common/Component';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport listItems from 'flarum/common/helpers/listItems';\nimport avatar from 'flarum/common/helpers/avatar';\nimport Link from 'flarum/common/components/Link';\n\nexport default class BlogAuthor extends Component {\n  view() {\n    const author = !this.attrs.loading ? (this.attrs.article ? this.attrs.article.user() : this.attrs.user) : null;\n\n    return (\n      <div className={'FlarumBlog-Article-Author'}>\n        <div\n          className={`FlarumBlog-Article-Author-background ${this.attrs.loading ? 'FlarumBlog-Author-Ghost' : ''}`}\n          style={{\n            backgroundColor: author && author.color() ? author.color() : null,\n          }}\n        />\n\n        <div className={'FlarumBlog-Article-Author-Avatar'}>\n          {author ? (\n            <Link href={app.route('user', { username: author.username() })}>{avatar(author)}</Link>\n          ) : (\n            <span className={'Avatar FlarumBlog-Author-Ghost'} />\n          )}\n        </div>\n\n        {author && (\n          <div className={'FlarumBlog-Article-Author-Info'}>\n            <Link href={app.route('user', { username: author.username() })} className={'FlarumBlog-Article-Author-Name'}>\n              {author.displayName()}\n            </Link>\n            <p className={'FlarumBlog-Article-Author-Bio'}>{author.bio && author.bio()}</p>\n\n            <ul className={'FlarumBlog-Article-Author-Extended'}>{listItems(this.items().toArray())}</ul>\n          </div>\n        )}\n\n        {this.attrs.loading && (\n          <div>\n            <span className={'FlarumBlog-Article-Author-Name FlarumBlog-Author-Ghost'}>&nbsp;</span>\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  items() {\n    return new ItemList();\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\n\nexport default class BlogCategories extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.blogCategories = app.forum.attribute('blogTags');\n  }\n\n  view() {\n    return (\n      <div className=\"BlogCategories BlogSideWidget\">\n        <h3>{app.translator.trans('v17development-flarum-blog.forum.categories')}</h3>\n\n        {this.blogCategories &&\n          this.blogCategories.map((tagId) => {\n            const tag = app.store.getById('tags', tagId);\n\n            if (!tag) return null;\n\n            const tags = [];\n            let showSubTags = this.blogCategories.length === 1 || tag.slug() === m.route.param('slug');\n\n            // Add tags\n            app.store.all('tags').forEach((_tag) => {\n              if (_tag.isChild() && _tag.parent() === tag) {\n                if (_tag.slug() === m.route.param('slug')) {\n                  showSubTags = true;\n                }\n\n                tags.push(this.categoryItem(_tag));\n              }\n            });\n\n            return showSubTags ? [this.categoryItem(tag), ...tags] : this.categoryItem(tag);\n          })}\n      </div>\n    );\n  }\n\n  // Category item\n  categoryItem(tag) {\n    return (\n      <Link\n        href={app.route('blogCategory', { slug: tag.slug() })}\n        className={`BlogSideWidget-item BlogSideWidget-item-${tag.id()} ${\n          tag.isChild() && app.forum.attribute('blogCategoryHierarchy') == true ? 'BlogSideWidget-item-child' : ''\n        }`}\n      >\n        <span className={tag.icon() === '' ? 'BlogSideWidget-item-colored' : ''} style={{ backgroundColor: tag.icon() === '' ? tag.color() : null }}>\n          <i className={tag.icon()} />\n        </span>\n        {tag.name()}\n      </Link>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/SelectDropdown'];","import Component from 'flarum/common/Component';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport SelectDropdown from 'flarum/common/components/SelectDropdown';\n\nexport default class ForumNav extends Component {\n  view() {\n    return (\n      <div className=\"BlogForumNav BlogSideWidget\">\n        <h3>{app.translator.trans('v17development-flarum-blog.forum.forum_nav')}</h3>\n        <nav className=\"IndexPage-nav sideNav\">\n          <SelectDropdown buttonClassName=\"Button\" className=\"App-titleControl\">\n            {this.navItems().toArray()}\n          </SelectDropdown>\n        </nav>\n      </div>\n    );\n  }\n\n  navItems() {\n    return IndexPage.prototype.navItems();\n  }\n}\n","import Component from 'flarum/common/Component';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport listItems from 'flarum/common/helpers/listItems';\nimport BlogAuthor from './BlogAuthor';\nimport BlogCategories from '../BlogCategories';\nimport ForumNav from '../ForumNav';\n\nexport default class BlogItemSidebar extends Component {\n  view() {\n    return (\n      <div className={'FlarumBlog-Article-Sidebar'}>\n        <ul>{listItems(this.items().toArray())}</ul>\n      </div>\n    );\n  }\n\n  items() {\n    const itemlist = new ItemList();\n\n    itemlist.add('author', BlogAuthor.component(this.attrs), 0);\n\n    itemlist.add('categories', BlogCategories.component(this.attrs), 0);\n\n    itemlist.add('nav', ForumNav.component(this.attrs), 0);\n\n    return itemlist;\n  }\n}\n","import Component from 'flarum/common/Component';\n\nexport default class Language extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.languages = app.store.all('discussion-languages');\n    this.options = this.languages.reduce((o, lang) => {\n      o[lang.code()] = (\n        <span>\n          <i className={'fas fa-globe'} /> {lang.name()}\n        </span>\n      );\n\n      return o;\n    }, this.attrs.extra || {});\n  }\n\n  view() {\n    const { language, uppercase } = this.attrs;\n    const name = language.name() || '';\n\n    return (\n      <span>\n        <i className={'fas fa-globe'} />\n        &nbsp;\n        {uppercase ? name.toUpperCase() : name}\n      </span>\n    );\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport Button from 'flarum/common/components/Button';\nimport Language from './Language';\n\nexport default class LanguageDropdown extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.languages = app.store.all('discussion-languages');\n    this.options = this.languages.reduce((o, lang) => {\n      o[lang.code()] = <Language language={lang} />;\n\n      return o;\n    }, this.attrs.extra || {});\n  }\n\n  view() {\n    const selected = this.attrs.selected;\n\n    return Dropdown.component(\n      {\n        buttonClassName: 'Button',\n        label: this.options[selected] || this.options[this.attrs.default],\n      },\n      Object.keys(this.options).map((key) => {\n        let defaultSelected;\n        if (app.forum.attribute('fof-discussion-language.composerLocaleDefault')) {\n          defaultSelected = 'any';\n        } else {\n          defaultSelected = app.translator.formatter.locale;\n        }\n        const isSelected = selected || defaultSelected;\n        const active = key === isSelected;\n\n        return Button.component(\n          {\n            active,\n            icon: active ? 'fas fa-check' : true,\n            onclick: () => this.attrs.onclick(key),\n          },\n          this.options[key]\n        );\n      })\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Tooltip'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/humanTime'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/classList'];","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport icon from 'flarum/common/helpers/icon';\nimport Discussion from 'flarum/common/models/Discussion';\nimport classList from 'flarum/common/utils/classList';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport app from 'flarum/forum/app';\nimport type Mithril from 'mithril';\n\ninterface Attrs {\n  article: Discussion;\n  defaultImage: string;\n}\n\nexport default class BlogOverviewItem extends Component<Attrs> {\n  titleItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add('title', <>{article.title()}</>, 100);\n\n    if (article.blogMeta()?.isPendingReview?.() || article.isHidden()) {\n      items.add('hidden', icon('fas fa-eye-slash', { class: 'BlogList-item-hidden' }), 80);\n    }\n\n    if (article.blogMeta()?.isPendingReview?.()) {\n      items.add(\n        'pendingReview',\n        <Tooltip text={app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')}>\n          {icon('far fa-clock', { class: 'BlogList-item-pendingReview' })}\n        </Tooltip>,\n        40\n      );\n    }\n\n    return items;\n  }\n\n  dataItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'createdAt',\n      <span class=\"BlogList-item-details-createdAt\">\n        {icon('far fa-clock')} {humanTime(article.createdAt())}\n      </span>,\n      100\n    );\n\n    items.add(\n      'author',\n      <span class=\"BlogList-item-details-author\">\n        {icon('far fa-user')} {article.user()?.displayName?.() || app.translator.trans('core.lib.username.deleted_text')}\n      </span>,\n      80\n    );\n\n    items.add(\n      'replies',\n      <span class=\"BlogList-item-details-replies\">\n        {icon('far fa-comment')} {(article.commentCount() || 1) - 1}\n      </span>,\n      60\n    );\n\n    return items;\n  }\n\n  contentItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n    const summary = article.blogMeta()?.summary?.() || '';\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add('title', <h4>{this.titleItems().toArray()}</h4>, 100);\n\n    if (summary) items.add('summary', <p>{summary}</p>, 80);\n\n    items.add('data', <div class=\"data\">{this.dataItems().toArray()}</div>, 60);\n\n    return items;\n  }\n\n  getImage(): string {\n    const { article, defaultImage } = this.attrs;\n\n    return article.blogMeta()?.featuredImage?.() ? `url(${article.blogMeta().featuredImage()})` : defaultImage;\n  }\n\n  view(vnode: Mithril.Vnode<Attrs, this>) {\n    const { article, defaultImage } = this.attrs;\n\n    const blogImage = this.getImage();\n\n    const isSized = article.blogMeta()?.isSized?.();\n\n    return (\n      <Link\n        href={app.route('blogArticle', {\n          id: `${article.slug()}`,\n        })}\n        className={classList(\n          'BlogList-item',\n          {\n            'BlogList-item-sized': isSized,\n            'BlogList-item-default': !isSized,\n          },\n          article.tags().map((tag) => `BlogList-item-category-${tag.id()}`)\n        )}\n      >\n        <div\n          class={classList('BlogList-item-photo', {\n            'FlarumBlog-default-image': blogImage === defaultImage,\n          })}\n          style={{ backgroundImage: blogImage }}\n        />\n\n        <div class=\"BlogList-item-content\">{this.contentItems().toArray()}</div>\n      </Link>\n    );\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport icon from 'flarum/common/helpers/icon';\nimport Discussion from 'flarum/common/models/Discussion';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport classList from 'flarum/common/utils/classList';\nimport app from 'flarum/forum/app';\nimport type Mithril from 'mithril';\n\ninterface Attrs {\n  article: Discussion;\n  defaultImage: string;\n}\n\nexport default class FeaturedBlogItem extends Component<Attrs> {\n  topItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'tags',\n      <span class=\"BlogFeatured-list-item-tags\">\n        {article.tags()?.map((tag) => (\n          <span class=\"dataItem\">{tag.name()}</span>\n        ))}\n      </span>,\n      100\n    );\n\n    if (article.isSticky()) {\n      items.add('sticky', <span class=\"BlogFeatured-list-item-isSticky dataItem\">{icon('fas fa-thumbtack')}</span>, 80);\n    }\n\n    if (article.blogMeta()?.isPendingReview?.() || article.isHidden()) {\n      items.add('hidden', <span class=\"BlogFeatured-list-item-isHidden dataItem\">{icon('fas fa-eye-slash')}</span>, 60);\n    }\n\n    if (article.blogMeta()?.isPendingReview?.()) {\n      items.add(\n        'pendingReview',\n        <Tooltip text={app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')} position=\"bottom\">\n          <span class=\"BlogFeatured-list-item-pendingReview dataItem\">\n            {icon('far fa-clock')} {app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review_title')}\n          </span>\n        </Tooltip>,\n        40\n      );\n    }\n\n    return items;\n  }\n\n  dataItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'createdAt',\n      <span class=\"BlogFeatured-list-item-details-createdAt\">\n        {icon('far fa-clock')} {humanTime(article.createdAt())}\n      </span>,\n      100\n    );\n\n    items.add(\n      'author',\n      <span class=\"BlogFeatured-list-item-details-author\">\n        {icon('far fa-user')} {article.user()?.displayName() || app.translator.trans('core.lib.username.deleted_text')}\n      </span>,\n      80\n    );\n\n    items.add(\n      'replies',\n      <span class=\"BlogFeatured-list-item-details-replies\">\n        {icon('far fa-comment')} {article.commentCount() - 1}\n      </span>,\n      60\n    );\n\n    return items;\n  }\n\n  view(vnode: Mithril.Vnode<Attrs, this>) {\n    const { article, defaultImage } = this.attrs;\n\n    const blogImage = article.blogMeta()?.featuredImage?.() ? `url(${article.blogMeta().featuredImage()})` : defaultImage;\n\n    return (\n      <Link\n        href={app.route('blogArticle', {\n          id: `${article.slug()}`,\n        })}\n        className={classList(\n          'BlogFeatured-list-item',\n          article.tags().map((tag) => `BlogFeatured-list-item-category-${tag.id()}`),\n          'FlarumBlog-default-image'\n        )}\n        style={{ backgroundImage: blogImage }}\n      >\n        <div class=\"BlogFeatured-list-item-top\">{this.topItems().toArray()}</div>\n\n        <div className={'BlogFeatured-list-item-details'}>\n          <h4>{article.title()}</h4>\n\n          <div className={'data'}>{this.dataItems().toArray()}</div>\n        </div>\n      </Link>\n    );\n  }\n}\n","import app from 'flarum/forum/app';\n\nimport IndexPage from 'flarum/components/IndexPage';\nimport Page from 'flarum/common/components/Page';\nimport Button from 'flarum/common/components/Button';\nimport BlogCategories from '../components/BlogCategories';\nimport Link from 'flarum/common/components/Link';\nimport LanguageDropdown from '../components/LanguageDropdown/LanguageDropdown';\nimport ForumNav from '../components/ForumNav';\nimport BlogOverviewItem from '../components/BlogOverviewItem';\nimport FeaturedBlogItem from '../components/FeaturedBlogItem';\n\nexport default class BlogOverview extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\n\n    this.bodyClass = 'BlogOverviewPage';\n\n    this.isLoading = true;\n    this.featuredPosts = [];\n    this.posts = [];\n    this.hasMore = null;\n    this.isLoadingMore = false;\n\n    this.languages = app.store.all('discussion-languages');\n\n    this.currentSelectedLanguage = m.route.param('lang') ? m.route.param('lang') : app.translator.formatter.locale;\n\n    // Send history push\n    app.history.push('blog');\n\n    this.loadBlogOverview();\n\n    this.featuredCount = parseInt(app.forum.attribute('blogFeaturedCount'));\n\n    this.showCategories = true;\n    this.showForumNav = true;\n  }\n\n  // Load blog overview\n  loadBlogOverview() {\n    const preloadBlogOverview = app.preloadedApiDocument();\n\n    if (preloadBlogOverview) {\n      // We must wrap this in a setTimeout because if we are mounting this\n      // component for the first time on page load, then any calls to m.redraw\n      // will be ineffective and thus any configs (scroll code) will be run\n      // before stuff is drawn to the page.\n      setTimeout(this.show.bind(this, preloadBlogOverview), 0);\n    } else {\n      this.reloadData();\n    }\n\n    m.redraw();\n  }\n\n  reloadData() {\n    let q = `is:blog${m.route.param('slug') ? ` tag:${m.route.param('slug')}` : ''}`;\n\n    if (this.languages !== null && this.languages.length >= 1) {\n      q += ` language:${this.currentSelectedLanguage}`;\n    }\n\n    app.store\n      .find('discussions', {\n        filter: {\n          q,\n        },\n        sort: '-createdAt',\n      })\n      .then(this.show.bind(this))\n      .catch(() => {\n        m.redraw();\n      });\n  }\n\n  // Show blog posts\n  show(articles) {\n    if (articles.length === 0) {\n      this.isLoading = false;\n      m.redraw();\n\n      return;\n    }\n\n    // Set pagination\n    this.hasMore = articles.payload.links && articles.payload.links.next ? articles.payload.links.next : null;\n\n    this.featuredPosts = articles.slice(0, this.featuredCount);\n    this.posts = articles.length > this.featuredCount ? articles.slice(this.featuredCount, articles.length) : [];\n\n    this.isLoading = false;\n\n    m.redraw();\n  }\n\n  // Load more blog posts\n  loadMore() {\n    this.isLoadingMore = true;\n\n    app.store\n      .find(this.hasMore.replace(app.forum.attribute('apiUrl'), ''))\n      .then((data) => {\n        data.map((article) => this.posts.push(article));\n\n        // Update hasmore button\n        this.hasMore = data.payload.links && data.payload.links.next ? data.payload.links.next : null;\n      })\n      .catch(() => {})\n      .then(() => {\n        this.isLoadingMore = false;\n        m.redraw();\n      });\n  }\n\n  title() {\n    if (!m.route.param('slug')) {\n      return <h2>{app.translator.trans('v17development-flarum-blog.forum.recent_posts')}</h2>;\n    }\n\n    const tag = app.store.all('tags').filter((tag) => tag.slug() === m.route.param('slug'));\n\n    return (\n      <h2>\n        {tag && tag[0] && tag[0].name()}\n        <small>\n          {' '}\n          - <Link href={app.route('blog')}>{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</Link>\n        </small>\n      </h2>\n    );\n  }\n\n  view() {\n    const defaultImage = app.forum.attribute('blogDefaultImage')\n      ? `url(${app.forum.attribute('baseUrl') + '/assets/' + app.forum.attribute('blogDefaultImage')})`\n      : null;\n\n    return [\n      app.forum.attribute('blogAddHero') == true && IndexPage.prototype.hero(),\n      <div className={'FlarumBlogOverview'}>\n        <div className={'container'}>\n          <div className={'BlogFeatured'}>\n            <div className={'BlogOverviewButtons'}>\n              {app.forum.attribute('canWriteBlogPosts') && (\n                <Button className={'Button'} onclick={() => this.newArticle()} icon={'fas fa-pencil-alt'}>\n                  {app.translator.trans('v17development-flarum-blog.forum.compose.write_article')}\n                </Button>\n              )}\n\n              {this.languages !== null && this.languages.length >= 1 && (\n                <LanguageDropdown\n                  selected={this.currentSelectedLanguage}\n                  onclick={(language) => {\n                    this.currentSelectedLanguage = language;\n\n                    m.route.set(document.location.pathname, {\n                      lang: language,\n                    });\n\n                    this.reloadData();\n                  }}\n                />\n              )}\n            </div>\n\n            {this.title()}\n\n            <div style={{ clear: 'both' }} />\n\n            <div class=\"BlogFeatured-list\">\n              {/* Ghost data */}\n              {this.isLoading &&\n                [...new Array(this.featuredCount).fill(undefined)].map(() => (\n                  <div class=\"BlogFeatured-list-item BlogFeatured-list-item-ghost\">\n                    <div class=\"BlogFeatured-list-item-details\">\n                      <h4>&nbsp;</h4>\n\n                      <div class=\"data\">\n                        <span>\n                          <i class=\"far fa-wave\" />\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n\n              {!this.isLoading &&\n                this.featuredPosts.length >= 0 &&\n                this.featuredPosts.map((article) => <FeaturedBlogItem article={article} defaultImage={defaultImage} />)}\n            </div>\n          </div>\n\n          <div className={'BlogScrubber'}>\n            <div className={'BlogList'}>\n              {this.isLoading &&\n                [false, false, true, false].map((state) => {\n                  return (\n                    <div className={`BlogList-item BlogList-item-${state === true ? 'sized' : 'default'} BlogList-item-ghost`}>\n                      <div className={'BlogList-item-photo FlarumBlog-default-image'}></div>\n                      <div className={'BlogList-item-content'}>\n                        <h4>&nbsp;</h4>\n                        <p>&nbsp;</p>\n\n                        <div className={'data'}>\n                          <span>\n                            <i className={'far fa-wave'} />\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n\n              {!this.isLoading &&\n                this.posts.length >= 1 &&\n                this.posts.map((article) => <BlogOverviewItem article={article} defaultImage={defaultImage} />)}\n\n              {!this.isLoading && this.featuredPosts.length > 0 && this.hasMore === null && (\n                <p className={'FlarumBlog-reached-end'}>{app.translator.trans('v17development-flarum-blog.forum.no_more_posts')}</p>\n              )}\n\n              {!this.isLoading && this.featuredPosts.length === 0 && this.posts.length === 0 && (\n                <p className={'FlarumBlog-reached-end'}>{app.translator.trans('v17development-flarum-blog.forum.category_empty')}</p>\n              )}\n\n              {!this.isLoading && this.hasMore !== null && (\n                <div className={'FlarumBlog-reached-load-more'}>\n                  <Button className={'Button'} onclick={() => this.loadMore()} icon={'fas fa-chevron-down'} loading={this.isLoadingMore}>\n                    {app.translator.trans('core.forum.discussion_list.load_more_button')}\n                  </Button>\n                </div>\n              )}\n            </div>\n\n            <div className={'Sidebar'}>\n              {this.showCategories && <BlogCategories />}\n              {this.showForumNav && <ForumNav />}\n            </div>\n          </div>\n        </div>\n      </div>,\n    ];\n  }\n\n  newArticle() {\n    let tags = [];\n\n    // Get current category\n    const currentCategory = app.store.getBy('tags', 'slug', m.route.param('slug'));\n\n    if (currentCategory) {\n      tags.push(currentCategory);\n    }\n\n    // Redirect to the composer\n    m.route.set(\n      app.route('blogComposer', {\n        tags: tags.map((tag) => tag.id()).join(),\n        lang: this.languages.length > 0 ? this.currentSelectedLanguage : undefined,\n      })\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/fullTime'];","import Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport extractText from 'flarum/common/utils/extractText';\nimport Tooltip from 'flarum/common/components/Tooltip';\n\nexport default class ArticleSubscription extends Component {\n  view() {\n    const currentSubscriptionState = this.attrs.discussion.subscription();\n\n    const preferences = app.session.user.preferences();\n    const notifyEmail = preferences['notify_newPost_email'];\n    const notifyTooltip = extractText(\n      app.translator.trans(\n        notifyEmail ? 'flarum-subscriptions.forum.sub_controls.notify_email_tooltip' : 'flarum-subscriptions.forum.sub_controls.notify_alert_tooltip'\n      )\n    );\n\n    let title = app.translator.trans('flarum-subscriptions.forum.sub_controls.not_following_button');\n    let icon = 'far fa-star';\n\n    // Following\n    if (currentSubscriptionState === 'follow') {\n      title = app.translator.trans('flarum-subscriptions.forum.sub_controls.following_button');\n      icon = 'fas fa-star';\n    }\n\n    return (\n      <Tooltip text={notifyTooltip} position=\"bottom\">\n        <Button\n          className={`Button BlogArticleSubscription SubscriptionMenu-button--${currentSubscriptionState}`}\n          icon={icon}\n          onclick={this.saveSubscription.bind(\n            this,\n            this.attrs.discussion,\n            ['follow', 'ignore'].indexOf(currentSubscriptionState) !== -1 ? null : 'follow'\n          )}\n        >\n          {title}\n        </Button>\n      </Tooltip>\n    );\n  }\n\n  saveSubscription(discussion, subscription) {\n    discussion.save({ subscription });\n  }\n}\n","import Page from 'flarum/common/components/Page';\nimport IndexPage from 'flarum/components/IndexPage';\nimport CommentPost from 'flarum/forum/components/CommentPost';\nimport PostStream from 'flarum/forum/components/PostStream';\nimport PostStreamState from 'flarum/forum/states/PostStreamState';\nimport BlogPostController from '../components/BlogPostController';\nimport BlogItemSidebar from '../components/BlogItemSidebar/BlogItemSidebar';\nimport Link from 'flarum/common/components/Link';\nimport BlogOverview from './BlogOverview';\nimport fullTime from 'flarum/common/helpers/fullTime';\nimport ArticleSubscription from '../components/ArticleSubscription';\nimport classList from 'flarum/common/utils/classList';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport icon from 'flarum/common/helpers/icon';\nimport app from 'flarum/forum/app';\n\nexport default class BlogItem extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\n\n    // Send history push\n    app.history.push('blogArticle');\n\n    this.bodyClass = 'BlogItemPage';\n\n    this.near = m.route.param('near') || 0;\n\n    this.loading = true;\n    this.found = false;\n    this.article = null;\n\n    this.loadBlogItem();\n  }\n\n  // Load blog overview\n  loadBlogItem() {\n    const preloadBlogOverview = app.preloadedApiDocument();\n\n    if (preloadBlogOverview) {\n      // We must wrap this in a setTimeout because if we are mounting this\n      // component for the first time on page load, then any calls to m.redraw\n      // will be ineffective and thus any configs (scroll code) will be run\n      // before stuff is drawn to the page.\n      setTimeout(this.show.bind(this, preloadBlogOverview), 0);\n    } else {\n      app.store\n        .find('discussions', m.route.param('id').split('-')[0])\n        .then(this.show.bind(this))\n        .catch(() => {\n          m.redraw();\n        });\n    }\n\n    m.redraw();\n  }\n\n  // Show blog post\n  show(article) {\n    // Set article data\n    this.article = article;\n\n    // Update title\n    app.setTitle(`${article.title()} - ${app.translator.trans('v17development-flarum-blog.forum.blog')}`);\n\n    this.loading = false;\n\n    let includedPosts = [];\n    if (article.payload && article.payload.included) {\n      const articleId = article.id();\n\n      includedPosts = article.payload.included\n        .filter(\n          (record) =>\n            record.type === 'posts' &&\n            record.relationships &&\n            record.relationships.discussion &&\n            record.relationships.discussion.data.id === articleId\n        )\n        .map((record) => app.store.getById('posts', record.id))\n        .sort((a, b) => a.id() - b.id())\n        .slice(0, 20);\n    }\n\n    this.stream = new PostStreamState(article, includedPosts);\n\n    // Scroll to specific post\n    if (this.near) {\n      this.stream.goToNumber(this.near || 0, true).then(() => {\n        app.current.set('discussion', article);\n        app.current.set('stream', this.stream);\n      });\n    }\n\n    // Read post on load\n    if (app.session.user && !article.lastReadPostNumber()) {\n      article.save({ lastReadPostNumber: 1 });\n    }\n\n    m.redraw();\n  }\n\n  postItems() {\n    let articlePost = null;\n\n    if (!this.loading && this.article) {\n      articlePost = this.article?.firstPost?.();\n    }\n\n    const items = new ItemList();\n\n    items.add(\n      'title',\n      <h3\n        className={classList('FlarumBlog-Article-Title', {\n          'FlarumBlog-Article-GhostTitle': this.loading,\n        })}\n      >\n        {this?.article?.title?.() || 'Ghost title'}\n        {this.article?.isHidden?.() && `(${app.translator.trans('v17development-flarum-blog.forum.hidden')})`}\n      </h3>,\n      100\n    );\n\n    items.add(\n      'publishDate',\n      <div\n        className={classList('FlarumBlog-Article-PublishDate', {\n          'FlarumBlog-Article-GhostPublishDate': this.loading,\n        })}\n      >\n        {this.article ? fullTime(this.article.createdAt()) : <span>&nbsp;</span>}\n      </div>,\n      80\n    );\n\n    if (this.loading) {\n      items.add(\n        'skeleton',\n        [0, 1, 2].map(() => (\n          <div>\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\n            <p>&nbsp;</p>\n          </div>\n        )),\n        60\n      );\n    }\n\n    if (!this.loading) {\n      if (this.article.blogMeta?.()?.isPendingReview?.()) {\n        items.add(\n          'review',\n          <div className={'Post-body'}>\n            <blockquote class=\"uncited\" style={{ fontSize: '16px' }}>\n              <div>\n                {icon('far fa-clock', { style: { marginRight: '5px' } })}{' '}\n                {app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')}\n              </div>\n            </blockquote>\n          </div>,\n          60\n        );\n      }\n\n      if (articlePost) {\n        items.add('post', <CommentPost post={articlePost} />, 40);\n      }\n    }\n\n    return items;\n  }\n\n  contentItems() {\n    const defaultImage = app.forum.attribute('blogDefaultImage')\n      ? `url(${app.forum.attribute('baseUrl')}/assets/${app.forum.attribute('blogDefaultImage')})`\n      : null;\n\n    const blogImage = this.article?.blogMeta()?.featuredImage?.() ? `url(${this.article.blogMeta().featuredImage()})` : defaultImage;\n\n    const items = new ItemList();\n\n    items.add(\n      'image',\n      <div\n        className={classList('FlarumBlog-Article-Image FlarumBlog-default-image', { 'FlarumBlog-Article-GhostImage': this.loading })}\n        style={{\n          backgroundImage: blogImage,\n          opacity: this.article?.isHidden?.() ? 0.4 : null,\n        }}\n      />,\n      100\n    );\n\n    if (this.article && (app.session.user?.canEdit?.() || this.article?.canRename?.() || this.article?.posts?.()?.[0]?.canEdit?.())) {\n      items.add('editArticle', <BlogPostController article={this.article} />, 80);\n    }\n\n    // Article Categories\n    items.add(\n      'categories',\n      <div className=\"FlarumBlog-Article-Categories\">\n        {!this.loading && this.article?.tags?.()?.map((tag) => <Link href={app.route('blogCategory', { slug: tag.slug() })}>{tag.name()}</Link>)}\n\n        {this.loading && [0, 1].map(() => <span className=\"FlarumBlog-Article-GhostCategory\">Category</span>)}\n      </div>,\n      60\n    );\n\n    items.add('post', <div className={'FlarumBlog-Article-Post'}>{this.postItems().toArray()}</div>, 40);\n\n    return items;\n  }\n\n  articleItems() {\n    const items = new ItemList();\n\n    items.add('content', <div className=\"FlarumBlog-Article-Content\">{this.contentItems().toArray()}</div>, 100);\n\n    if (!(this?.article?.isLocked?.() && this?.article?.commentCount?.() === 1)) {\n      items.add(\n        'comments',\n        <div className={'FlarumBlog-Article-Comments'}>\n          {/* Show subscription state */}\n          {!this.loading &&\n            app.session.user &&\n            this.article.subscription &&\n            (!this.article.isLocked || (this.article.isLocked && !this.article.isLocked())) && <ArticleSubscription discussion={this.article} />}\n\n          <h4>\n            {app.translator.trans('v17development-flarum-blog.forum.comment_section.comments')} ({this.article ? this.article.commentCount() - 1 : 0})\n          </h4>\n\n          {/* Locked */}\n          {!this.loading && this.article?.isLocked?.() && (\n            <div className={'Post-body'}>\n              <blockquote class=\"uncited\">\n                <div>\n                  <span className={'far fa-lock'} style={{ marginRight: '5px' }} />{' '}\n                  {app.translator.trans('v17development-flarum-blog.forum.comment_section.locked')}\n                </div>\n              </blockquote>\n            </div>\n          )}\n\n          {!this.loading &&\n            this.article &&\n            PostStream.component({\n              discussion: this.article,\n              stream: this.stream,\n              onPositionChange: this.positionChanged.bind(this),\n            })}\n        </div>,\n        75\n      );\n    }\n\n    return items;\n  }\n\n  view() {\n    return [\n      app.forum.attribute('blogAddHero') == true && IndexPage.prototype.hero(),\n      <div className={'FlarumBlogItem'}>\n        <div className={'container'}>\n          <div className={'FlarumBlog-ToolButtons'}>\n            <Link\n              href={app.route('blog')}\n              className={'Button'}\n              onclick={(e) => {\n                if (app.previous.matches(BlogOverview)) {\n                  e.preventDefault();\n                  history.back();\n                }\n              }}\n            >\n              <i class=\"icon fas fa-angle-left Button-icon\"></i>\n              <span class=\"Button-label\">{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</span>\n            </Link>\n          </div>\n          <div className={'FlarumBlog-Article'}>\n            <div className={'FlarumBlog-Article-Container'}>{this.articleItems().toArray()}</div>\n\n            <BlogItemSidebar article={this.article} loading={this.loading} />\n          </div>\n        </div>\n      </div>,\n    ];\n  }\n\n  positionChanged(startNumber, endNumber) {\n    const article = this.article;\n\n    if (app.session.user && endNumber > (article.lastReadPostNumber() || 0)) {\n      article.save({ lastReadPostNumber: endNumber });\n      m.redraw();\n    }\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/models/Tag'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/Discussion'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/mixin'];","import Model from 'flarum/common/Model';\nimport mixin from 'flarum/common/utils/mixin';\n\nexport default class BlogMeta extends mixin(Model, {\n  discussion: Model.hasOne('discussion'),\n  featuredImage: Model.attribute('featuredImage'),\n  summary: Model.attribute('summary'),\n  isFeatured: Model.attribute('isFeatured'),\n  isSized: Model.attribute('isSized'),\n  isPendingReview: Model.attribute('isPendingReview'),\n}) {}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/components/TagsPage'];","import { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport TagsPage from 'flarum/tags/components/TagsPage';\n\nexport default function extendTagOverview() {\n  extend(TagsPage.prototype, 'view', function (markup) {\n    // Pending xhr to load all tags, throw back loading indicator.\n    if (this.loading) {\n      return markup;\n    }\n\n    if (app.forum.attribute('blogHideTags') == false) return markup;\n\n    // Get knowledge base tag ID's\n    const knowledgeBaseTags = app.forum.attribute('blogTags') || [];\n\n    // Get tiles\n    let tag_tiles = markup.children[1].children[1].children[0].children;\n\n    // Map through the tiles and remove tiles that are part of the knowledge base\n    markup.children[1].children[1].children[0].children = tag_tiles.map((tile, i) => {\n      return knowledgeBaseTags.indexOf(this.tags[i].id()) >= 0 ? null : tile;\n    });\n\n    return markup;\n  });\n\n  extend(IndexPage.prototype, 'navItems', function (items) {\n    if (app.forum.attribute('blogHideTags') == false) return items;\n\n    const blogTags = app.forum.attribute('blogTags') || [];\n\n    blogTags.forEach((id) => {\n      items.remove(`tag${id}`);\n    });\n\n    return items;\n  });\n}\n","export default function () {\n  // Save the original function before we override it\n  const original_discussion_route = app.route.discussion;\n\n  /**\n   * Generate a URL to a discussion OR a Blog Article.\n   *\n   * CORE_CODE_OVERRIDE: This overrides the standard function from flarum/core.\n   * The code is inspired from js/src/forum/routes.js and now handles different types of discussions.\n   * It will try to keep the original function executed if the discussion being\n   * processed isn't a blog article.\n   *\n   * @param {Discussion} discussion\n   * @param {Integer} [near]\n   * @return {String}\n   */\n  app.route.discussion = (discussion, near) => {\n    const discussionRedirectEnabled =\n      app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'discussions_only';\n    let shouldRedirect = false;\n    if (discussionRedirectEnabled && discussion.tags().length > 0) {\n      const blogTags = app.forum.attribute('blogTags');\n\n      const foundTags = discussion.tags().filter((tag) => {\n        return blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0);\n      });\n\n      if (foundTags.length > 0) {\n        shouldRedirect = true;\n      }\n    }\n    if (shouldRedirect) {\n      return discussion.lastReadPostNumber() > 1\n        ? app.route('blogArticle.near', {\n            id: discussion.slug(),\n            near: discussion.lastReadPostNumber(),\n          })\n        : app.route('blogArticle', {\n            id: discussion.slug(),\n          });\n    } else {\n      return original_discussion_route(discussion, near);\n    }\n  };\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/ComposerBody'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/TextEditor'];","import Component from 'flarum/common/Component';\n\nexport default class ComposerPreview extends Component {\n  view() {\n    return <div />;\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    s9e.TextFormatter.preview(vnode.attrs.content || '', vnode.dom);\n  }\n}\n","import ComposerBody from 'flarum/forum/components/ComposerBody';\nimport Button from 'flarum/common/components/Button';\nimport TextEditor from 'flarum/common/components/TextEditor';\nimport ComposerPreview from './ComposerPreview';\nimport app from 'flarum/forum/app';\n\nexport default class Composer extends ComposerBody {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.previewContent = false;\n  }\n\n  // Render\n  view() {\n    const hasContent = this.composer.fields.content() && this.composer.fields.content() !== '';\n    const loading = this.loading || this.attrs.disabled;\n\n    return (\n      <div className={`Flarum-Blog-Composer ${loading ? 'Flarum-Blog-Composer-Loading' : ''}`}>\n        <div className={'Flarum-Blog-Composer-tabs'}>\n          <Button className={!this.previewContent && 'AricleComposerButtonSelected'} onclick={() => (this.previewContent = false)}>\n            {app.translator.trans('v17development-flarum-blog.forum.composer.write')}\n          </Button>\n          <Button className={this.previewContent && 'AricleComposerButtonSelected'} onclick={() => (this.previewContent = true)}>\n            {app.translator.trans('v17development-flarum-blog.forum.composer.view')}\n          </Button>\n        </div>\n\n        <div className={`Composer Flarum-Blog-Composer-body ${this.previewContent ? 'Flarum-Blog-Composer-HideEditor' : ''}`}>\n          {this.previewContent && (\n            <div className={'Flarum-Blog-Composer-preview'}>\n              {!hasContent && app.translator.trans('v17development-flarum-blog.forum.composer.nothing_to_preview')}\n\n              <ComposerPreview content={this.composer.fields.content()} />\n            </div>\n          )}\n\n          {TextEditor.component({\n            submitLabel: this.attrs.submitLabel || app.translator.trans('core.forum.composer_edit.submit_button'),\n            placeholder: this.attrs.placeholder,\n            disabled: loading,\n            composer: this.composer,\n            preview: this.jumpToPreview && this.jumpToPreview.bind(this),\n            onchange: this.composer.fields.content,\n            onsubmit: this.onsubmit.bind(this),\n            value: this.composer.fields.content(),\n          })}\n        </div>\n      </div>\n    );\n  }\n\n  // Submit trigger\n  onsubmit() {\n    if (this.attrs.onsubmit) {\n      this.attrs.onsubmit();\n    }\n  }\n}\n","import app from 'flarum/forum/app';\nimport Page from 'flarum/common/components/Page';\nimport Button from 'flarum/common/components/Button';\nimport Link from 'flarum/common/components/Link';\nimport BlogAuthor from '../components/BlogItemSidebar/BlogAuthor';\nimport RenameArticleModal from '../components/Modals/RenameArticleModal';\nimport TagDiscussionModal from 'flarum/tags/components/TagDiscussionModal';\nimport BlogPostSettingsModal from '../components/Modals/BlogPostSettingsModal';\nimport Composer from '../components/Composer/Composer';\nimport LanguageDropdown from '../components/LanguageDropdown/LanguageDropdown';\nimport ItemList from 'flarum/common/utils/ItemList';\n\nexport default class BlogComposer extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\n\n    // User cannot write blogs\n    if (!app.forum.attribute('canWriteBlogPosts')) {\n      m.route.set(app.route('blog'));\n      return;\n    }\n\n    // Send history push\n    app.history.push('blogComposer');\n\n    // Get languages (if enabled)\n    this.languages = app.store.all('discussion-languages') || [];\n\n    // Set body class\n    this.bodyClass = 'BlogItemPage BlogItemPage--composer';\n\n    // Article data\n    this.articleLanguage = m.route.param('lang') ? m.route.param('lang') : app.translator.locale;\n    this.article = app.store.createRecord('discussions');\n    this.blogMeta = null;\n\n    this.tags = [];\n\n    // Pre-select tags\n    if (m.route.param().tags) {\n      const tagList = Array.isArray(m.route.param().tags) ? m.route.param().tags : m.route.param().tags.split(',');\n\n      if (m.route.param().tags.length > 0) {\n        tagList.forEach((tagId) => {\n          const foundTag = app.store.getById('tags', tagId);\n\n          if (foundTag) {\n            this.tags.push(foundTag);\n          }\n        });\n      }\n    }\n\n    this.isSaving = false;\n  }\n\n  openTagsModal(e = null) {\n    if (e) {\n      e.preventDefault();\n    }\n\n    if (this.isSaving) return;\n\n    app.modal.show(TagDiscussionModal, {\n      selectedTags: this.tags,\n      onsubmit: (tags) => {\n        this.tags = tags;\n      },\n    });\n  }\n\n  openNameArticleModal(e = null) {\n    if (e) {\n      e.preventDefault();\n    }\n\n    if (this.isSaving) return;\n\n    app.modal.show(RenameArticleModal, {\n      article: this.article,\n      onChange: (title) => {\n        this.article.pushData({\n          attributes: {\n            title,\n          },\n        });\n      },\n    });\n  }\n\n  openBlogSettings(e) {\n    e.preventDefault();\n\n    if (this.isSaving) return;\n\n    app.modal.show(BlogPostSettingsModal, {\n      meta: this.blogMeta,\n      onsubmit: (meta) => (this.blogMeta = meta),\n    });\n  }\n\n  view() {\n    return (\n      <div className={'FlarumBlogItem'}>\n        <div className={'container'}>{this.pageItems().toArray()}</div>\n      </div>\n    );\n  }\n\n  pageItems() {\n    const items = new ItemList();\n\n    items.add(\n      'toolButtons',\n      <div className=\"FlarumBlog-ToolButtons\">\n        <Link href={app.route('blog')} className=\"Button\" loading={this.isSaving} icon=\"fas fa-angle-left\">\n          <i class=\"icon fas fa-angle-left Button-icon\" />\n          <span class=\"Button-label\">{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</span>\n        </Link>\n      </div>,\n      100\n    );\n\n    items.add('article', <div className={'FlarumBlog-Article'}>{this.articleWrapperItems().toArray()}</div>, 90);\n\n    return items;\n  }\n\n  articleWrapperItems() {\n    const items = new ItemList();\n\n    items.add('container', <div className=\"FlarumBlog-Article-Container\">{this.articleItems().toArray()}</div>, 100);\n\n    items.add(\n      'sidebar',\n      <div className=\"FlarumBlog-Article-Sidebar\">\n        <BlogAuthor user={app.session.user} />\n      </div>,\n      90\n    );\n\n    return items;\n  }\n\n  articleItems() {\n    const items = new ItemList();\n\n    const defaultImage = app.forum.attribute('blogDefaultImage')\n      ? `url(${app.forum.attribute('baseUrl') + '/assets/' + app.forum.attribute('blogDefaultImage')})`\n      : null;\n\n    const blogImage = this.blogMeta && this.blogMeta.featuredImage() ? `url(${this.blogMeta.featuredImage()})` : defaultImage;\n\n    items.add(\n      'content',\n      <div className=\"FlarumBlog-Article-Content\">\n        <div\n          className={`FlarumBlog-Article-Image FlarumBlog-default-image`}\n          style={{\n            backgroundImage: blogImage,\n            cursor: 'pointer',\n          }}\n          onclick={(e) => this.openBlogSettings(e)}\n        />\n\n        <div className={'FlarumBlog-Article-Content-Edit-Button'}>\n          <div className={this.languages.length === 0 ? 'FlarumBlog-Article-Content-Edit-Dropdown' : 'FlarumBlog-Article-Content-EditButtons'}>\n            {this.languages !== null && this.languages.length >= 1 && (\n              <LanguageDropdown selected={this.articleLanguage} onclick={(language) => (this.articleLanguage = language)} />\n            )}\n\n            <Button className={'Button'} onclick={(e) => this.openBlogSettings(e)} icon={'fas fa-pencil-alt'} loading={this.isSaving}>\n              {app.translator.trans('v17development-flarum-blog.forum.composer.update_settings')}\n            </Button>\n          </div>\n        </div>\n\n        {/* Article Categories */}\n        <div className={'FlarumBlog-Article-Categories'}>\n          {this.tags.map((tag) => (\n            <button class=\"Button Button--text\" onclick={(e) => this.openTagsModal(e)}>\n              {tag.name()}\n            </button>\n          ))}\n\n          <button class=\"Button Button--text\" onclick={(e) => this.openTagsModal(e)}>\n            {this.tags.length === 0\n              ? app.translator.trans('v17development-flarum-blog.forum.composer.select_category')\n              : app.translator.trans('v17development-flarum-blog.forum.composer.edit_categories')}{' '}\n            <i className={'fas fa-edit'} />\n          </button>\n        </div>\n\n        <div className={'FlarumBlog-Article-Post'}>\n          {/* Article name */}\n          <h3 onclick={() => this.openNameArticleModal()} className=\"FlarumBlog-Article-Title\" style={{ cursor: 'pointer' }}>\n            {this.article && this.article.title() && this.article.title() !== ''\n              ? this.article.title()\n              : app.translator.trans('v17development-flarum-blog.forum.composer.no_title')}\n\n            <button class=\"Button Button--text\" onclick={(e) => e.preventDefault()}>\n              <i className={'fas fa-edit'} />\n            </button>\n          </h3>\n\n          <div className=\"Post-body\">\n            <Composer\n              composer={app.composer}\n              originalContent={''}\n              submitLabel={app.translator.trans('v17development-flarum-blog.forum.composer.post_article')}\n              placeholder={app.translator.trans('v17development-flarum-blog.forum.composer.enter_message_here')}\n              onsubmit={() => this.create()}\n              disabled={this.isSaving}\n            />\n          </div>\n        </div>\n      </div>,\n      100\n    );\n\n    items.add(\n      'commentsPlaceholder',\n      <div className=\"FlarumBlog-Article-Comments\">\n        <h4>{app.translator.trans('v17development-flarum-blog.forum.comment_section.comments')} (0)</h4>\n        {/* Locked */}\n\n        <div className=\"Post-body\">\n          <blockquote class=\"uncited\">\n            <div>\n              <span className=\"fas fa-ban\" style={{ marginRight: '5px' }} />{' '}\n              {app.translator.trans('v17development-flarum-blog.forum.composer.comment_section')}\n            </div>\n          </blockquote>\n        </div>\n      </div>,\n      90\n    );\n\n    return items;\n  }\n\n  create() {\n    const blogTags = app.forum.attribute('blogTags') || [];\n\n    // Force tags\n    if (this.tags.length === 0) {\n      this.openTagsModal();\n      return;\n    }\n\n    // Force title\n    if (!this.article.title() || this.article.title() === '') {\n      this.openNameArticleModal();\n      return;\n    }\n\n    // Find knowledge base tags\n    const findblogTags = this.tags.filter((tag) => {\n      return blogTags.indexOf(tag.id()) >= 0;\n    });\n\n    // No knowledge base tags selected\n    if (findblogTags.length === 0) {\n      alert(app.translator.trans('v17development-flarum-blog.forum.composer.no_blog_tags_selected'));\n      return;\n    }\n\n    if (\n      (this.blogMeta === null || (!this.blogMeta.featuredImage() && !app.forum.attribute('blogDefaultImage')) || !this.blogMeta.summary()) &&\n      !confirm(app.translator.trans('v17development-flarum-blog.forum.composer.post_without_blog_info'))\n    ) {\n      return;\n    }\n\n    let relationships = {\n      tags: this.tags,\n    };\n\n    // Add languages if possible\n    if (this.languages.length > 0) {\n      relationships.language = app.store.getBy('discussion-languages', 'code', this.articleLanguage);\n    }\n\n    const data = {\n      title: this.article.title(),\n      content: app.composer.fields.content(),\n      relationships,\n      blogMeta:\n        this.blogMeta !== null\n          ? {\n              featuredImage: this.blogMeta.featuredImage(),\n              summary: this.blogMeta.summary(),\n              isSized: this.blogMeta.isSized(),\n            }\n          : null,\n    };\n\n    this.isSaving = true;\n\n    this.article\n      .save(data)\n      .then((article) => {\n        setTimeout(() => {\n          // Redirect to the article\n          m.route.set(app.route('blogArticle', { id: `${article.slug()}` }));\n        }, 500);\n      })\n      .catch(() => {\n        this.isSaving = false;\n        m.redraw();\n      });\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core;","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","import { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport LinkButton from 'flarum/common/components/LinkButton';\n\nexport default function addSidebarNav() {\n  extend(IndexPage.prototype, 'navItems', function (items) {\n    if (app.forum.attribute('blogAddSidebarNav') && app.forum.attribute('blogAddSidebarNav') !== '0') {\n      items.add(\n        'blog',\n        <LinkButton icon=\"fas fa-comment\" href={app.route('blog')}>\n          {app.translator.trans('v17development-flarum-blog.forum.blog')}\n        </LinkButton>,\n        15\n      );\n    }\n\n    return items;\n  });\n}\n","import type Component from 'flarum/common/components/Component';\nimport Modal from 'flarum/common/components/Modal';\n\n/**\n * Notice from V17: Temporary override due to lack of multi-dialogs!\n *\n * We'll open a PR to support multi-dialog to the Flarum main repo\n */\n\n/**\n * Ideally, `show` would take a higher-kinded generic, ala:\n *  `show<Attrs, C>(componentClass: C<Attrs>, attrs: Attrs): void`\n * Unfortunately, TypeScript does not support this:\n * https://github.com/Microsoft/TypeScript/issues/1213\n * Therefore, we have to use this ugly, messy workaround.\n */\ntype UnsafeModalClass = ComponentClass<any, Modal> & {\n  isDismissible: boolean;\n  component: typeof Component.component;\n};\n\n/**\n * Class used to manage modal state.\n *\n * Accessible on the `app` object via `app.modal` property.\n */\nexport default class OverrideModalState {\n  /**\n   * @internal\n   */\n  modal: null | {\n    componentClass: UnsafeModalClass;\n    attrs?: Record<string, unknown>;\n    key: number;\n  } = null;\n\n  modalList: Array = [];\n\n  /**\n   * Used to force re-initialization of modals if a modal\n   * is replaced by another of the same type.\n   */\n  private key = 0;\n\n  private closeTimeout?: NodeJS.Timeout;\n\n  /**\n   * Shows a modal dialog.\n   *\n   * If a modal is already open, the existing one will close and the new modal will replace it.\n   *\n   * @example <caption>Show a modal</caption>\n   * app.modal.show(MyCoolModal, { attr: 'value' });\n   *\n   * @example <caption>Show a modal from a lifecycle method (`oncreate`, `view`, etc.)</caption>\n   * // This \"hack\" is needed due to quirks with nested redraws in Mithril.\n   * setTimeout(() => app.modal.show(MyCoolModal, { attr: 'value' }), 0);\n   */\n  show(componentClass: UnsafeModalClass, attrs: Record<string, unknown> = {}, keepLast: Boolean = false): void {\n    if (!(componentClass.prototype instanceof Modal)) {\n      // This is duplicated so that if the error is caught, an error message still shows up in the debug console.\n      const invalidModalWarning = 'The ModalManager can only show Modals.';\n      console.error(invalidModalWarning);\n      throw new Error(invalidModalWarning);\n    }\n\n    if (this.closeTimeout) clearTimeout(this.closeTimeout);\n\n    // Open new modal\n    this.modal = { componentClass, attrs, key: this.key++ };\n\n    // Remember previously opened modal\n    if (keepLast) {\n      this.modalList.push(this.modal);\n    } else {\n      // Override last modals\n      this.modalList = [this.modal];\n    }\n\n    m.redraw.sync();\n  }\n\n  /**\n   * Closes the currently open dialog, if one is open.\n   */\n  close(): void {\n    if (!this.modal) return;\n\n    // There are more modals currently opened\n    // Close current and open last in list\n    if (this.modalList.length >= 2) {\n      $(`.modal[modal-key=${this.modal?.key}]`)\n        .one('hide.bs.modal', () => {\n          const currentModalPosition = this.modalList.indexOf(this.modal);\n\n          // Remove last modal from list\n          this.modalList.splice(currentModalPosition, 1);\n\n          // Open last modal from list\n          this.modal = this.modalList[this.modalList.length - 1];\n\n          setTimeout(() => {\n            $(document.body).addClass('modal-open');\n          }, 1000);\n\n          m.redraw();\n        })\n        .modal('hide');\n\n      m.redraw();\n      return;\n    }\n\n    // Don't hide the modal immediately, because if the consumer happens to call\n    // the `show` method straight after to show another modal dialog, it will\n    // cause Bootstrap's modal JS to misbehave. Instead we will wait for a tiny\n    // bit to give the `show` method the opportunity to prevent this from going\n    // ahead.\n\n    this.closeTimeout = setTimeout(() => {\n      $(`.modal[modal-key=${this.modal?.key}]`)\n        .modal('hide')\n        .one('hide.bs.modal', () => {\n          this.modal = null;\n\n          m.redraw();\n        });\n    });\n  }\n\n  /**\n   * Checks if a modal is currently open.\n   *\n   * @return `true` if a modal dialog is currently open, otherwise `false`.\n   */\n  isModalOpen(): boolean {\n    return !!this.modal;\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/ModalManager'];","import BlogItem from './pages/BlogItem';\nimport Model from 'flarum/common/Model';\nimport Tag from 'flarum/tags/models/Tag';\nimport Discussion from 'flarum/common/models/Discussion';\nimport BlogOverview from './pages/BlogOverview';\nimport redirector from './utils/redirector';\nimport BlogMeta from '../common/Models/BlogMeta';\nimport extendTagOverview from './utils/extendTagOverview';\nimport discussionRouting from './utils/discussionRouting';\nimport BlogComposer from './pages/BlogComposer';\nimport compat from './compat';\nimport addSidebarNav from './utils/addSidebarNav';\nimport app from 'flarum/forum/app';\n\n// Create our own modal manager\nimport OverrideModalState from './states/OverrideModalState';\nimport overrideModalManager from './utils/overrideModalManager';\n\n// Register Flarum Blog\napp.initializers.add(\n  'v17development-flarum-blog',\n  (app) => {\n    app.routes.blog = { path: '/blog', component: BlogOverview };\n\n    app.routes.blogCategory = {\n      path: '/blog/category/:slug',\n      component: BlogOverview,\n    };\n\n    app.routes.blogComposer = {\n      path: '/blog/compose',\n      component: BlogComposer,\n    };\n\n    app.routes.blogArticle = { path: '/blog/:id', component: BlogItem };\n\n    app.routes['blogArticle.near'] = {\n      path: '/blog/:id/:near',\n      component: BlogItem,\n    };\n\n    app.store.models.blogMeta = BlogMeta;\n\n    Discussion.prototype.blogMeta = Model.hasOne('blogMeta');\n    Tag.prototype.isBlog = Model.attribute('isBlog');\n\n    // Redirect discussions/tags to their blog post/overview\n    redirector();\n\n    // Extend tag overview.\n    // Hide tags which are used as blog category\n    extendTagOverview();\n\n    // Make that blog articles have a blog route and not a discussion route\n    discussionRouting();\n\n    // Add a link to the blog to the IndexPage sidebar, if enabled.\n    addSidebarNav();\n\n    /**\n     * Notice from V17: Temporary override due to lack of multi-dialogs!\n     *\n     * We'll open a PR to support multi-dialog to the Flarum main repo\n     */\n    overrideModalManager();\n    app.modal = new OverrideModalState();\n  },\n  -100000\n);\n\ncompat();\n","import IndexPage from 'flarum/forum/components/IndexPage';\nimport DiscussionPage from 'flarum/forum/components/DiscussionPage';\nimport { extend, override } from 'flarum/common/extend';\nimport app from 'flarum/forum/app';\n\nexport default function () {\n  // Redirect tag to blog category\n  extend(IndexPage.prototype, 'oncreate', function () {\n    const tag = this.currentTag();\n    const tagRedirectEnabled = app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'tags_only';\n\n    // Only trigger when it's a tag page and the redirects are enabled\n    if (tag && tagRedirectEnabled) {\n      const blogTags = app.forum.attribute('blogTags');\n\n      // Tag is inside list\n      if (blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0)) {\n        m.route.set(app.route('blog'));\n      }\n    }\n  });\n\n  // Redirect discussion to blog article\n  override(DiscussionPage.prototype, 'show', function (original, discussion) {\n    const discussionRedirectEnabled =\n      app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'discussions_only';\n\n    if (discussionRedirectEnabled && discussion && discussion && discussion.tags().length > 0) {\n      const blogTags = app.forum.attribute('blogTags');\n\n      const foundTags = discussion.tags().filter((tag) => {\n        return blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0);\n      });\n\n      // Only redirect if the discussion has blog tags\n      if (foundTags.length > 0) {\n        // Redirect to blog article\n        const url = app.route('blogArticle', {\n          id: discussion.slug(),\n        });\n\n        m.route.set(url, null, { replace: true });\n\n        return null;\n      }\n    }\n\n    return original(discussion);\n  });\n}\n","import ModalManager from 'flarum/forum/components/ModalManager';\nimport { override } from 'flarum/common/extend';\n\n/**\n * Notice from V17: Temporary override due to lack of multi-dialogs!\n *\n * We'll open a PR to support multi-dialog to the Flarum main repo\n */\n\nexport default function overrideModalManager() {\n  override(ModalManager.prototype, 'view', function () {\n    return this.attrs.state.modalList.map((modal) => {\n      const Tag = modal?.componentClass;\n\n      return (\n        <div className=\"ModalManager modal fade\" modal-key={modal.key}>\n          {!!Tag && (\n            <Tag\n              key={modal?.key}\n              {...modal.attrs}\n              animateShow={this.animateShow.bind(this)}\n              animateHide={this.animateHide.bind(this)}\n              state={this.attrs.state}\n            />\n          )}\n        </div>\n      );\n    });\n  });\n\n  override(ModalManager.prototype, 'animateHide', function () {\n    if (this.attrs.state.modalList.length === 1) {\n      this.modalShown = false;\n    }\n  });\n\n  override(ModalManager.prototype, 'animateShow', function (readyCallback = () => {}) {\n    if (!this.attrs.state.modal) return;\n\n    const dismissible = !!this.attrs.state.modal.componentClass.isDismissible;\n\n    this.modalShown = true;\n\n    // If we are opening this modal while another modal is already open,\n    // the shown event will not run, because the modal is already open.\n    // So, we need to manually trigger the readyCallback.\n    if ($(`.modal[modal-key=${this.attrs.state.modal.key}]`).hasClass('in')) {\n      readyCallback();\n      return;\n    }\n\n    setTimeout(() => {\n      $(`.modal[modal-key=${this.attrs.state.modal.key}]`)\n        .one('shown.bs.modal', readyCallback)\n        // @ts-expect-error: No typings available for Bootstrap modals.\n        .modal({\n          backdrop: dismissible || 'static',\n          keyboard: dismissible,\n          show: true,\n        });\n    }, 1);\n  });\n}\n","import { compat } from '@flarum/core/forum';\nimport BlogMeta from '../common/Models/BlogMeta';\nimport ArticleSubscription from './components/ArticleSubscription';\nimport BlogCategories from './components/BlogCategories';\nimport BlogAuthor from './components/BlogItemSidebar/BlogAuthor';\nimport BlogItemSidebar from './components/BlogItemSidebar/BlogItemSidebar';\nimport BlogOverviewItem from './components/BlogOverviewItem';\nimport BlogPostController from './components/BlogPostController';\nimport Composer from './components/Composer/Composer';\nimport ComposerPreview from './components/Composer/ComposerPreview';\nimport FeaturedBlogItem from './components/FeaturedBlogItem';\nimport ForumNav from './components/ForumNav';\nimport Language from './components/LanguageDropdown/Language';\nimport LanguageDropdown from './components/LanguageDropdown/LanguageDropdown';\nimport BlogPostSettingsModal from './components/Modals/BlogPostSettingsModal';\nimport RenameArticleModal from './components/Modals/RenameArticleModal';\nimport BlogItem from './pages/BlogItem';\nimport BlogOverview from './pages/BlogOverview';\n\nexport default () => {\n  Object.assign(compat, {\n    'v17development/blog/components/BlogItemSidebar': BlogItemSidebar,\n    'v17development/blog/components/BlogAuthor': BlogAuthor,\n\n    'v17development/blog/components/Composer/Composer': Composer,\n    'v17development/blog/components/Composer/ComposerPreview': ComposerPreview,\n\n    'v17development/blog/components/LanguageDropdown/Language': Language,\n    'v17development/blog/components/LanguageDropdown/LanguageDropdown': LanguageDropdown,\n\n    'v17development/blog/components/Modals/BlogPostSettingsModal': BlogPostSettingsModal,\n    'v17development/blog/components/Modals/RenameArticleModal': RenameArticleModal,\n\n    'v17development/blog/components/ArticleSubscription': ArticleSubscription,\n    'v17development/blog/components/BlogCategories': BlogCategories,\n    'v17development/blog/components/BlogOverviewItem': BlogOverviewItem,\n    'v17development/blog/components/BlogPostController': BlogPostController,\n    'v17development/blog/components/FeaturedBlogItem': FeaturedBlogItem,\n    'v17development/blog/components/ForumNav': ForumNav,\n\n    'v17development/blog/pages/BlogItem': BlogItem,\n    'v17development/blog/pages/BlogOverview': BlogOverview,\n\n    'v17development/blog/models/BlogMeta': BlogMeta,\n  });\n};\n"],"names":["_typeof","require","_regeneratorRuntime","module","exports","__esModule","Op","Object","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","method","arg","Error","undefined","done","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","fn","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","resolve","reject","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","doneResult","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","flarum","extensions","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","d","a","definition","o","get","prop","r","_setPrototypeOf","p","bind","_inheritsLoose","subClass","superClass","core","compat","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","BlogPostSettingsModal","oninit","vnode","attrs","article","meta","blogMeta","app","isNew","exists","summary","Stream","featuredImage","isFeatured","isSized","isPendingReview","className","title","content","fields","toArray","items","ItemList","add","style","maxWidth","minWidth","width","minHeight","bidi","placeholder","fofUploadButton","components","Uploader","FileManagerModal","uploader","class","onclick","onSelect","files","file","url","icon","src","alt","marginTop","Switch","onchange","val","fontWeight","Button","loading","submitData","relationships","isComposer","discussion","onsubmit","e","preventDefault","pushData","attributes","hide","save","m","redraw","response","handleErrors","Modal","RenameArticleModal","redirect","translator","trans","onChange","slug","route","set","window","history","replaceState","document","BlogPostController","init","loadedPost","manageArticleButtons","LanguageDiscussionModal","canRename","articlePost","firstPost","disabled","canEdit","EditPostComposer","post","canTag","TagDiscussionModal","Alert","canChangeLanguage","canLock","DiscussionControls","isLocked","canHide","isHidden","canDelete","confirm","extractText","view","Dropdown","label","buttonClassName","menuClassName","onshow","Component","BlogAuthor","author","user","backgroundColor","color","href","username","avatar","bio","listItems","BlogCategories","blogCategories","forum","attribute","map","tagId","tag","store","getById","tags","showSubTags","param","all","_tag","isChild","parent","categoryItem","id","ForumNav","navItems","IndexPage","BlogItemSidebar","itemlist","component","Language","languages","options","reduce","lang","code","extra","language","uppercase","toUpperCase","LanguageDropdown","selected","defaultSelected","formatter","locale","active","BlogOverviewItem","titleItems","text","dataItems","humanTime","createdAt","commentCount","contentItems","getImage","defaultImage","blogImage","classList","backgroundImage","FeaturedBlogItem","topItems","isSticky","position","BlogOverview","bodyClass","isLoading","featuredPosts","posts","hasMore","isLoadingMore","currentSelectedLanguage","loadBlogOverview","featuredCount","parseInt","showCategories","showForumNav","preloadBlogOverview","setTimeout","show","reloadData","q","filter","sort","articles","payload","links","loadMore","replace","data","newArticle","location","pathname","clear","Array","fill","currentCategory","join","Page","ArticleSubscription","currentSubscriptionState","subscription","notifyEmail","session","preferences","notifyTooltip","saveSubscription","indexOf","BlogItem","near","found","loadBlogItem","split","includedPosts","included","articleId","b","stream","PostStreamState","goToNumber","lastReadPostNumber","postItems","fullTime","fontSize","marginRight","opacity","articleItems","PostStream","onPositionChange","positionChanged","back","startNumber","endNumber","BlogMeta","mixin","Model","extendTagOverview","extend","TagsPage","markup","knowledgeBaseTags","tag_tiles","children","tile","remove","original_discussion_route","shouldRedirect","blogTags","ComposerPreview","oncreate","s9e","TextFormatter","preview","dom","Composer","previewContent","hasContent","composer","TextEditor","submitLabel","jumpToPreview","ComposerBody","BlogComposer","articleLanguage","tagList","isArray","foundTag","isSaving","openTagsModal","selectedTags","openNameArticleModal","openBlogSettings","pageItems","articleWrapperItems","cursor","originalContent","alert","addSidebarNav","OverrideModalState","modal","modalList","closeTimeout","componentClass","keepLast","invalidModalWarning","console","clearTimeout","sync","close","$","one","currentModalPosition","splice","body","addClass","isModalOpen","routes","blog","path","blogCategory","blogComposer","blogArticle","models","Discussion","Tag","currentTag","tagRedirectEnabled","override","DiscussionPage","original","discussionRouting","ModalManager","animateShow","animateHide","modalShown","readyCallback","dismissible","isDismissible","hasClass","backdrop","keyboard","assign"],"sourceRoot":""}