{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@clarkwinkelmann/catch-the-fish/webpack/bootstrap","webpack://@clarkwinkelmann/catch-the-fish/webpack/runtime/compat get default export","webpack://@clarkwinkelmann/catch-the-fish/webpack/runtime/define property getters","webpack://@clarkwinkelmann/catch-the-fish/webpack/runtime/hasOwnProperty shorthand","webpack://@clarkwinkelmann/catch-the-fish/webpack/runtime/make namespace object","webpack://@clarkwinkelmann/catch-the-fish/external root \"flarum.core.compat['admin/app']\"","webpack://@clarkwinkelmann/catch-the-fish/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@clarkwinkelmann/catch-the-fish/external root \"flarum.core.compat['common/components/Button']\"","webpack://@clarkwinkelmann/catch-the-fish/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@clarkwinkelmann/catch-the-fish/external root \"flarum.core.compat['common/components/Select']\"","webpack://@clarkwinkelmann/catch-the-fish/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@clarkwinkelmann/catch-the-fish/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@clarkwinkelmann/catch-the-fish/./src/admin/SettingsPage.ts","webpack://@clarkwinkelmann/catch-the-fish/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@clarkwinkelmann/catch-the-fish/./src/admin/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Select'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/ExtensionPage'];","import {Vnode} from 'mithril';\nimport app from 'flarum/admin/app';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Select from 'flarum/common/components/Select';\nimport Switch from 'flarum/common/components/Switch';\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\n\nconst settingsPrefix = 'catch-the-fish.';\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.admin.settings.';\n\n// @ts-ignore missing view type-hint\nexport default class SettingsPage extends ExtensionPage {\n    allTagsLoaded: boolean = false\n    loadingAllTags: boolean = false\n    selectedTag: string = '0'\n\n    oninit(vnode: Vnode) {\n        super.oninit(vnode);\n\n        // Only attempt to load all tags if the Tags extension is actually enabled, otherwise the API endpoint would error\n        if (flarum.extensions['flarum-tags']) {\n            this.loadAllTags();\n        }\n    }\n\n    loadAllTags() {\n        this.loadingAllTags = true;\n\n        // Only the primary tags are loaded by default, so we need to make the same request that\n        // the tags page settings does to load the full list\n        app.store.find('tags', {include: 'parent,lastPostedDiscussion'}).then(() => {\n            this.loadingAllTags = false;\n            this.allTagsLoaded = true;\n\n            m.redraw();\n        });\n    }\n\n    content(): any {\n        return m('.ExtensionPage-settings', m('.container', [\n            m('h3', app.translator.trans(translationPrefix + 'user')),\n            m('.Form-group', [\n                m('label', app.translator.trans(translationPrefix + 'user-age')),\n                m('input.FormControl', {\n                    type: 'number',\n                    min: 1,\n                    step: 1,\n                    bidi: this.setting(settingsPrefix + 'userAgeDays', '14'),\n                }),\n            ]),\n            m('.Form-group', [\n                m('label', app.translator.trans(translationPrefix + 'user-probability')),\n                m('input.FormControl.CTFFormControl--range', {\n                    type: 'number',\n                    min: 0,\n                    max: 100,\n                    step: 1,\n                    bidi: this.setting(settingsPrefix + 'userProbability', '33'),\n                }),\n                m('input', {\n                    type: 'range',\n                    min: 0,\n                    max: 100,\n                    step: 1,\n                    bidi: this.setting(settingsPrefix + 'userProbability', '33'),\n                }),\n            ]),\n            m('h3', app.translator.trans(translationPrefix + 'discussion')),\n            m('.Form-group', [\n                m('label', app.translator.trans(translationPrefix + 'discussion-age')),\n                m('input.FormControl', {\n                    type: 'number',\n                    min: 1,\n                    step: 1,\n                    bidi: this.setting(settingsPrefix + 'discussionAgeDays', '14'),\n                }),\n            ]),\n            m('.Form-group', [\n                m('label', app.translator.trans(translationPrefix + 'discussion-tags')),\n                m('p.helpText', app.translator.trans(translationPrefix + 'discussion-tags-help')),\n                this.tagSettings(),\n            ]),\n            m('h3', app.translator.trans(translationPrefix + 'post')),\n            m('.Form-group', [\n                m('label', app.translator.trans(translationPrefix + 'post-age')),\n                m('input.FormControl', {\n                    type: 'number',\n                    min: 1,\n                    step: 1,\n                    bidi: this.setting(settingsPrefix + 'postAgeDays', '14'),\n                }),\n            ]),\n            m('.Form-group', [\n                m('label', app.translator.trans(translationPrefix + 'post-probability')),\n                m('input.FormControl.CTFFormControl--range', {\n                    type: 'number',\n                    min: 0,\n                    max: 100,\n                    step: 1,\n                    bidi: this.setting(settingsPrefix + 'postProbability', '50'),\n                }),\n                m('input', {\n                    type: 'range',\n                    min: 0,\n                    max: 100,\n                    step: 1,\n                    bidi: this.setting(settingsPrefix + 'postProbability', '50'),\n                }),\n            ]),\n            m('h3', app.translator.trans(translationPrefix + 'general')),\n            m('.Form-group', [\n                m('label', app.translator.trans(translationPrefix + 'time-to-place')),\n                m('input.FormControl', {\n                    type: 'number',\n                    min: 1,\n                    step: 1,\n                    bidi: this.setting(settingsPrefix + 'autoPlacedAfterMinutes', '5'),\n                }),\n            ]),\n            m('.Form-group', [\n                Switch.component({\n                    state: this.setting(settingsPrefix + 'alertRound', '1')() === '1',\n                    onchange: (value: string) => {\n                        this.setting(settingsPrefix + 'alertRound')(value ? '1' : '0');\n                    },\n                }, app.translator.trans(translationPrefix + 'alert-round')),\n            ]),\n            m('.Form-group', [\n                Switch.component({\n                    state: this.setting(settingsPrefix + 'animateFlip', '1')() === '1',\n                    onchange: (value: string) => {\n                        this.setting(settingsPrefix + 'animateFlip')(value ? '1' : '0');\n                    },\n                }, app.translator.trans(translationPrefix + 'animate-flip')),\n            ]),\n            m('.Form-group', this.submitButton()),\n        ]));\n    }\n\n    tagSettings(): any {\n        if (!flarum.extensions['flarum-tags']) {\n            return m('p', m('em', app.translator.trans(translationPrefix + 'discussion-tags-unavailable')));\n        }\n\n        if (this.loadingAllTags) {\n            return LoadingIndicator.component();\n        }\n\n        let tags: {\n            tagId: string\n            probability: number\n        }[] = [];\n\n        try {\n            tags = JSON.parse(this.setting(settingsPrefix + 'discussionTags')());\n        } catch (e) {\n            // do nothing, we'll reset to something usable\n        }\n\n        if (!Array.isArray(tags)) {\n            tags = [];\n        }\n\n        let options: any = {\n            '0': app.translator.trans(translationPrefix + 'tags-control.choose'),\n        };\n\n        flarum.core.compat['tags/utils/sortTags'](app.store.all('tags')).forEach(tag => {\n            if (tags.some(t => t.tagId === tag.id())) {\n                return;\n            }\n\n            options[tag.id()] = tag.name();\n        });\n\n        return m('table.CTFTagsTable', [\n            m('thead', m('tr', [\n                m('th', app.translator.trans(translationPrefix + 'tags-header.tag')),\n                m('th', app.translator.trans(translationPrefix + 'tags-header.probability')),\n                m('th'),\n            ])),\n            m('tbody', [\n                tags.map((tag, index) => {\n                    const onchange = (event: Event) => {\n                        tag.probability = parseInt((event.target as HTMLInputElement).value);\n                        this.setting(settingsPrefix + 'discussionTags')(JSON.stringify(tags));\n                    };\n\n                    const tagModel = app.store.getById('tags', tag.tagId);\n\n                    const isLastLine = index === tags.length - 1;\n\n                    return m('tr', [\n                        m('td', tagModel ? tagModel.name() : m('em', tag.tagId)),\n                        m('td', isLastLine ? m('em', app.translator.trans(translationPrefix + 'tags-fallback.' + (tags.length > 1 ? 'last-line' : 'single-line'))) : [\n                            m('input.FormControl.CTFFormControl--range', {\n                                type: 'number',\n                                min: 0,\n                                max: 100,\n                                step: 1,\n                                value: tag.probability || '',\n                                onchange,\n                            }),\n                            m('input', {\n                                type: 'range',\n                                min: 0,\n                                max: 100,\n                                step: 1,\n                                value: tag.probability || '',\n                                onchange,\n                            }),\n                        ]),\n                        m('td', [\n                            ' ',\n                            Button.component({\n                                className: 'Button Button--icon',\n                                icon: 'fas fa-chevron-down',\n                                onclick: () => {\n                                    tags.splice(index + 1, 0, ...tags.splice(index, 1));\n\n                                    this.setting(settingsPrefix + 'discussionTags')(JSON.stringify(tags));\n                                },\n                                disabled: isLastLine,\n                                title: app.translator.trans(translationPrefix + 'tags-control.down'),\n                            }),\n                            ' ',\n                            Button.component({\n                                className: 'Button Button--icon',\n                                icon: 'fas fa-chevron-up',\n                                onclick: () => {\n                                    tags.splice(index - 1, 0, ...tags.splice(index, 1));\n\n                                    this.setting(settingsPrefix + 'discussionTags')(JSON.stringify(tags));\n                                },\n                                disabled: index === 0,\n                                title: app.translator.trans(translationPrefix + 'tags-control.up'),\n                            }),\n                            ' ',\n                            Button.component({\n                                className: 'Button Button--icon',\n                                icon: 'fas fa-times',\n                                onclick: () => {\n                                    tags.splice(index, 1);\n\n                                    this.setting(settingsPrefix + 'discussionTags')(JSON.stringify(tags));\n                                },\n                                title: app.translator.trans(translationPrefix + 'tags-control.delete'),\n                            }),\n                        ]),\n                    ]);\n                }),\n                m('tr', [\n                    m('td', {\n                        colspan: 2,\n                    }, Select.component({\n                        options,\n                        value: this.selectedTag,\n                        onchange: (id: string) => {\n                            this.selectedTag = id;\n                        },\n                    })),\n                    m('td', Button.component({\n                        className: 'Button Button--block',\n                        onclick: () => {\n                            tags.push({\n                                tagId: this.selectedTag,\n                                probability: 50,\n                            });\n\n                            this.setting(settingsPrefix + 'discussionTags')(JSON.stringify(tags));\n\n                            this.selectedTag = '0';\n                        },\n                        disabled: this.selectedTag === '0',\n                    }, app.translator.trans(translationPrefix + 'tags-control.add'))),\n                ]),\n            ]),\n        ]);\n    }\n}\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","import app from 'flarum/admin/app';\nimport SettingsPage from './SettingsPage';\n\napp.initializers.add('clarkwinkelmann-catch-the-fish', () => {\n    app.extensionData.for('clarkwinkelmann-catch-the-fish')\n        .registerPage(SettingsPage)\n        .registerPermission({\n            icon: 'fas fa-fish',\n            label: app.translator.trans('clarkwinkelmann-catch-the-fish.admin.permissions.visible'),\n            permission: 'catchthefish.visible',\n            allowGuest: true,\n        }, 'view')\n        .registerPermission({\n            icon: 'fas fa-fish',\n            label: app.translator.trans('clarkwinkelmann-catch-the-fish.admin.permissions.list-rankings'),\n            permission: 'catchthefish.list-rankings',\n            allowGuest: true,\n        }, 'view')\n        .registerPermission({\n            icon: 'fas fa-fish',\n            label: app.translator.trans('clarkwinkelmann-catch-the-fish.admin.permissions.participate'),\n            permission: 'catchthefish.participate',\n        }, 'reply')\n        .registerPermission({\n            icon: 'fas fa-fish',\n            label: app.translator.trans('clarkwinkelmann-catch-the-fish.admin.permissions.choose-place'),\n            permission: 'catchthefish.choose-place',\n        }, 'reply')\n        .registerPermission({\n            icon: 'fas fa-fish',\n            label: app.translator.trans('clarkwinkelmann-catch-the-fish.admin.permissions.choose-name'),\n            permission: 'catchthefish.choose-name',\n        }, 'reply')\n        .registerPermission({\n            icon: 'fas fa-fish',\n            label: app.translator.trans('clarkwinkelmann-catch-the-fish.admin.permissions.moderate'),\n            permission: 'catchthefish.moderate',\n        }, 'moderate');\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","p","setPrototypeOf","__proto__","translationPrefix","SettingsPage","subClass","superClass","allTagsLoaded","loadingAllTags","selectedTag","create","constructor","oninit","vnode","extensions","this","loadAllTags","app","include","then","m","redraw","content","type","min","step","bidi","setting","settingsPrefix","max","tagSettings","Switch","state","onchange","submitButton","LoadingIndicator","tags","JSON","parse","e","Array","isArray","options","forEach","tag","some","t","tagId","id","name","map","index","event","probability","parseInt","target","stringify","tagModel","isLastLine","length","Button","className","icon","onclick","splice","disabled","title","colspan","Select","push","ExtensionPage","registerPage","registerPermission","label","permission","allowGuest"],"sourceRoot":""}